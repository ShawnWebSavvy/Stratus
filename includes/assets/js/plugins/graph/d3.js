!function () { function t() { } function n(t) { return t } function e() { return this } function r() { return !0 } function i(t) { return "function" == typeof t ? t : function () { return t } } function u(t, n, e) { return function () { var r = e.apply(n, arguments); return arguments.length ? t : r } } function o(t) { return null != t && !isNaN(t) } function a(t) { return t.length } function c(t) { return null == t } function l(t) { return t.trim().replace(/\s+/g, " ") } function f(t) { for (var n = 1; t * n % 1;)n *= 10; return n } function s() { } function h(n) { function e() { for (var t, e = r, i = -1, u = e.length; ++i < u;)(t = e[i].on) && t.apply(this, arguments); return n } var r = [], i = new t; return e.on = function (t, e) { var u, o = i.get(t); return arguments.length < 2 ? o && o.on : (o && (o.on = null, r = r.slice(0, u = r.indexOf(o)).concat(r.slice(u + 1)), i.remove(t)), e && r.push(i.set(t, { on: e })), n) }, e } function d(t, n) { return n - (t ? 1 + Math.floor(Math.log(t + Math.pow(10, 1 + Math.floor(Math.log(t) / Math.LN10) - n)) / Math.LN10) : 1) } function g(t) { return t + "" } function p(t) { for (var n = t.lastIndexOf("."), e = n >= 0 ? t.substring(n) : (n = t.length, ""), r = []; n > 0;)r.push(t.substring(n -= 3, n + 3)); return r.reverse().join(",") + e } function v(t) { return function (n) { return n <= 0 ? 0 : n >= 1 ? 1 : t(n) } } function m(t) { return function (n) { return 1 - t(1 - n) } } function y(t) { return function (n) { return .5 * (n < .5 ? t(2 * n) : 2 - t(2 - 2 * n)) } } function x(t) { return t } function b(t) { return function (n) { return Math.pow(n, t) } } function M(t) { return 1 - Math.cos(t * Math.PI / 2) } function _(t) { return Math.pow(2, 10 * (t - 1)) } function w(t) { return 1 - Math.sqrt(1 - t * t) } function k(t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 } function N() { d3.event.stopPropagation(), d3.event.preventDefault() } function A() { for (var t, n = d3.event; t = n.sourceEvent;)n = t; return n } function S(t) { for (var n = new s, e = 0, r = arguments.length; ++e < r;)n[arguments[e]] = h(n); return n.of = function (e, r) { return function (i) { try { var u = i.sourceEvent = d3.event; i.target = t, d3.event = i, n[i.type].apply(e, r) } finally { d3.event = u } } }, n } function C(t) { var n, e, r, i = [t.a, t.b], u = [t.c, t.d], o = q(i), a = T(i, u), c = q(((n = u)[0] += (r = -a) * (e = i)[0], n[1] += r * e[1], n)) || 0; i[0] * u[1] < u[0] * i[1] && (i[0] *= -1, i[1] *= -1, o *= -1, a *= -1), this.rotate = (o ? Math.atan2(i[1], i[0]) : Math.atan2(-u[0], u[1])) * hr, this.translate = [t.e, t.f], this.scale = [o, c], this.skew = c ? Math.atan2(a, c) * hr : 0 } function T(t, n) { return t[0] * n[0] + t[1] * n[1] } function q(t) { var n = Math.sqrt(T(t, t)); return n && (t[0] /= n, t[1] /= n), n } function z(t) { return "transform" == t ? d3.interpolateTransform : d3.interpolate } function E(t, n) { return n = n - (t = +t) ? 1 / (n - t) : 0, function (e) { return (e - t) * n } } function D(t, n) { return n = n - (t = +t) ? 1 / (n - t) : 0, function (e) { return Math.max(0, Math.min(1, (e - t) * n)) } } function P() { } function L(t, n, e) { return new F(t, n, e) } function F(t, n, e) { this.r = t, this.g = n, this.b = e } function I(t) { return t < 16 ? "0" + Math.max(0, t).toString(16) : Math.min(255, t).toString(16) } function H(t, n, e) { var r, i, u, o = 0, a = 0, c = 0; if (r = /([a-z]+)\((.*)\)/i.exec(t)) switch (i = r[2].split(","), r[1]) { case "hsl": return e(parseFloat(i[0]), parseFloat(i[1]) / 100, parseFloat(i[2]) / 100); case "rgb": return n(Y(i[0]), Y(i[1]), Y(i[2])) }return (u = vr.get(t)) ? n(u.r, u.g, u.b) : (null != t && "#" === t.charAt(0) && (4 === t.length ? (o = t.charAt(1), o += o, a = t.charAt(2), a += a, c = t.charAt(3), c += c) : 7 === t.length && (o = t.substring(1, 3), a = t.substring(3, 5), c = t.substring(5, 7)), o = parseInt(o, 16), a = parseInt(a, 16), c = parseInt(c, 16)), n(o, a, c)) } function O(t, n, e) { var r, i, u = Math.min(t /= 255, n /= 255, e /= 255), o = Math.max(t, n, e), a = o - u, c = (o + u) / 2; return a ? (i = c < .5 ? a / (o + u) : a / (2 - o - u), r = t == o ? (n - e) / a + (n < e ? 6 : 0) : n == o ? (e - t) / a + 2 : (t - n) / a + 4, r *= 60) : i = r = 0, U(r, i, c) } function R(t, n, e) { var r = tt((.4124564 * (t = j(t)) + .3575761 * (n = j(n)) + .1804375 * (e = j(e))) / br), i = tt((.2126729 * t + .7151522 * n + .072175 * e) / Mr); return G(116 * i - 16, 500 * (r - i), 200 * (i - tt((.0193339 * t + .119192 * n + .9503041 * e) / _r))) } function j(t) { return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4) } function Y(t) { var n = parseFloat(t); return "%" === t.charAt(t.length - 1) ? Math.round(2.55 * n) : n } function U(t, n, e) { return new V(t, n, e) } function V(t, n, e) { this.h = t, this.s = n, this.l = e } function Z(t, n, e) { function r(t) { return Math.round(255 * function (t) { return t > 360 ? t -= 360 : t < 0 && (t += 360), t < 60 ? i + (u - i) * t / 60 : t < 180 ? u : t < 240 ? i + (u - i) * (240 - t) / 60 : i }(t)) } var i, u; return (t %= 360) < 0 && (t += 360), n = n < 0 ? 0 : n > 1 ? 1 : n, i = 2 * (e = e < 0 ? 0 : e > 1 ? 1 : e) - (u = e <= .5 ? e * (1 + n) : e + n - e * n), L(r(t + 120), r(t), r(t - 120)) } function B(t, n, e) { return new X(t, n, e) } function X(t, n, e) { this.h = t, this.c = n, this.l = e } function $(t, n, e) { return G(e, Math.cos(t *= Math.PI / 180) * n, Math.sin(t) * n) } function G(t, n, e) { return new K(t, n, e) } function K(t, n, e) { this.l = t, this.a = n, this.b = e } function J(t, n, e) { var r = (t + 16) / 116, i = r + n / 500, u = r - e / 200; return L(nt(3.2404542 * (i = W(i) * br) - 1.5371385 * (r = W(r) * Mr) - .4985314 * (u = W(u) * _r)), nt(-.969266 * i + 1.8760108 * r + .041556 * u), nt(.0556434 * i - .2040259 * r + 1.0572252 * u)) } function Q(t, n, e) { return B(Math.atan2(e, n) / Math.PI * 180, Math.sqrt(n * n + e * e), t) } function W(t) { return t > .206893034 ? t * t * t : (t - 4 / 29) / 7.787037 } function tt(t) { return t > .008856 ? Math.pow(t, 1 / 3) : 7.787037 * t + 4 / 29 } function nt(t) { return Math.round(255 * (t <= .00304 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055)) } function et(t) { return Qe(t, Tr), t } function rt(t) { return function () { return kr(t, this) } } function it(t) { return function () { return Nr(t, this) } } function ut(t, n) { return t = d3.ns.qualify(t), null == n ? t.local ? function () { this.removeAttributeNS(t.space, t.local) } : function () { this.removeAttribute(t) } : "function" == typeof n ? t.local ? function () { var e = n.apply(this, arguments); null == e ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, e) } : function () { var e = n.apply(this, arguments); null == e ? this.removeAttribute(t) : this.setAttribute(t, e) } : t.local ? function () { this.setAttributeNS(t.space, t.local, n) } : function () { this.setAttribute(t, n) } } function ot(t) { return new RegExp("(?:^|\\s+)" + d3.requote(t) + "(?:\\s+|$)", "g") } function at(t, n) { var e = (t = t.trim().split(/\s+/).map(ct)).length; return "function" == typeof n ? function () { for (var r = -1, i = n.apply(this, arguments); ++r < e;)t[r](this, i) } : function () { for (var r = -1; ++r < e;)t[r](this, n) } } function ct(t) { var n = ot(t); return function (e, r) { if (i = e.classList) return r ? i.add(t) : i.remove(t); var i = e.className, u = null != i.baseVal, o = u ? i.baseVal : i; r ? (n.lastIndex = 0, n.test(o) || (o = l(o + " " + t), u ? i.baseVal = o : e.className = o)) : o && (o = l(o.replace(n, " ")), u ? i.baseVal = o : e.className = o) } } function lt(t, n, e) { return null == n ? function () { this.style.removeProperty(t) } : "function" == typeof n ? function () { var r = n.apply(this, arguments); null == r ? this.style.removeProperty(t) : this.style.setProperty(t, r, e) } : function () { this.style.setProperty(t, n, e) } } function ft(t, n) { return null == n ? function () { delete this[t] } : "function" == typeof n ? function () { var e = n.apply(this, arguments); null == e ? delete this[t] : this[t] = e } : function () { this[t] = n } } function st(t) { return { __data__: t } } function ht(t) { return function () { return Cr(this, t) } } function dt(t) { return arguments.length || (t = d3.ascending), function (n, e) { return t(n && n.__data__, e && e.__data__) } } function gt(t, n, e) { function r() { var n = this[i]; n && (this.removeEventListener(t, n, n.$), delete this[i]) } var i = "__on" + t, u = t.indexOf("."); return u > 0 && (t = t.substring(0, u)), n ? function () { function u(t) { var e = d3.event; d3.event = t, a[0] = o.__data__; try { n.apply(o, a) } finally { d3.event = e } } var o = this, a = arguments; r.call(this), this.addEventListener(t, this[i] = u, u.$ = e), u._ = n } : r } function pt(t, n) { for (var e = 0, r = t.length; e < r; e++)for (var i, u = t[e], o = 0, a = u.length; o < a; o++)(i = u[o]) && n(i, o, e); return t } function vt(t) { return Qe(t, zr), t } function mt(n, e, r) { Qe(n, Er); var i = new t, u = d3.dispatch("start", "end"), o = Hr; return n.id = e, n.time = r, n.tween = function (t, e) { return arguments.length < 2 ? i.get(t) : (null == e ? i.remove(t) : i.set(t, e), n) }, n.ease = function (t) { return arguments.length ? (o = "function" == typeof t ? t : d3.ease.apply(d3, arguments), n) : o }, n.each = function (t, e) { return arguments.length < 2 ? yt.call(n, t) : (u.on(t, e), n) }, d3.timer((function (t) { return pt(n, (function (n, a, c) { function l(t) { return p.active > e ? s() : (p.active = e, i.forEach((function (t, e) { (e = e.call(n, v, a)) && h.push(e) })), u.start.call(n, v, a), f(t) || d3.timer(f, 0, r), 1) } function f(t) { if (p.active !== e) return s(); for (var r = (t - d) / g, i = o(r), c = h.length; c > 0;)h[--c].call(n, i); return r >= 1 ? (s(), Pr = e, u.end.call(n, v, a), Pr = 0, 1) : void 0 } function s() { return --p.count || delete n.__transition__, 1 } var h = [], d = n.delay, g = n.duration, p = (n = n.node).__transition__ || (n.__transition__ = { active: 0, count: 0 }), v = n.__data__; ++p.count, d <= t ? l(t) : d3.timer(l, d, r) })) }), 0, r), n } function yt(t) { var n = Pr, e = Hr, r = Fr, i = Ir; return Pr = this.id, Hr = this.ease(), pt(this, (function (n, e, r) { Fr = n.delay, Ir = n.duration, t.call(n = n.node, n.__data__, e, r) })), Pr = n, Hr = e, Fr = r, Ir = i, this } function xt(t, n, e) { return "" != e && jr } function bt(t, n) { return d3.tween(t, z(n)) } function Mt() { for (var t, n = Date.now(), e = Vr; e;)(t = n - e.then) >= e.delay && (e.flush = e.callback(t)), e = e.next; var r = _t() - n; r > 24 ? (isFinite(r) && (clearTimeout(Rr), Rr = setTimeout(Mt, r)), Or = 0) : (Or = 1, Zr(Mt)) } function _t() { for (var t = null, n = Vr, e = 1 / 0; n;)n.flush ? (delete Ur[n.callback.id], n = t ? t.next = n.next : Vr = n.next) : (e = Math.min(e, n.then + n.delay), n = (t = n).next); return e } function wt(t, n) { var e = t.ownerSVGElement || t; if (e.createSVGPoint) { var r = e.createSVGPoint(); if (Br < 0 && (window.scrollX || window.scrollY)) { var i = (e = d3.select(document.body).append("svg").style("position", "absolute").style("top", 0).style("left", 0))[0][0].getScreenCTM(); Br = !(i.f || i.e), e.remove() } return Br ? (r.x = n.pageX, r.y = n.pageY) : (r.x = n.clientX, r.y = n.clientY), [(r = r.matrixTransform(t.getScreenCTM().inverse())).x, r.y] } var u = t.getBoundingClientRect(); return [n.clientX - u.left - t.clientLeft, n.clientY - u.top - t.clientTop] } function kt(t) { var n = t[0], e = t[t.length - 1]; return n < e ? [n, e] : [e, n] } function Nt(t) { return t.rangeExtent ? t.rangeExtent() : kt(t.range()) } function At(t, n) { var e, r = 0, i = t.length - 1, u = t[r], o = t[i]; return o < u && (e = r, r = i, i = e, e = u, u = o, o = e), (n = n(o - u)) && (t[r] = n.floor(u), t[i] = n.ceil(o)), t } function St() { return Math } function Ct(t, n, e, r) { function i() { var i = Math.min(t.length, n.length) > 2 ? Lt : Pt, c = r ? D : E; return o = i(t, n, c, e), a = i(n, t, c, d3.interpolate), u } function u(t) { return o(t) } var o, a; return u.invert = function (t) { return a(t) }, u.domain = function (n) { return arguments.length ? (t = n.map(Number), i()) : t }, u.range = function (t) { return arguments.length ? (n = t, i()) : n }, u.rangeRound = function (t) { return u.range(t).interpolate(d3.interpolateRound) }, u.clamp = function (t) { return arguments.length ? (r = t, i()) : r }, u.interpolate = function (t) { return arguments.length ? (e = t, i()) : e }, u.ticks = function (n) { return Et(t, n) }, u.tickFormat = function (n) { return Dt(t, n) }, u.nice = function () { return At(t, qt), i() }, u.copy = function () { return Ct(t, n, e, r) }, i() } function Tt(t, n) { return d3.rebind(t, n, "range", "rangeRound", "interpolate", "clamp") } function qt(t) { return (t = Math.pow(10, Math.round(Math.log(t) / Math.LN10) - 1)) && { floor: function (n) { return Math.floor(n / t) * t }, ceil: function (n) { return Math.ceil(n / t) * t } } } function zt(t, n) { var e = kt(t), r = e[1] - e[0], i = Math.pow(10, Math.floor(Math.log(r / n) / Math.LN10)), u = n / r * i; return u <= .15 ? i *= 10 : u <= .35 ? i *= 5 : u <= .75 && (i *= 2), e[0] = Math.ceil(e[0] / i) * i, e[1] = Math.floor(e[1] / i) * i + .5 * i, e[2] = i, e } function Et(t, n) { return d3.range.apply(d3, zt(t, n)) } function Dt(t, n) { return d3.format(",." + Math.max(0, -Math.floor(Math.log(zt(t, n)[2]) / Math.LN10 + .01)) + "f") } function Pt(t, n, e, r) { var i = e(t[0], t[1]), u = r(n[0], n[1]); return function (t) { return u(i(t)) } } function Lt(t, n, e, r) { var i = [], u = [], o = 0, a = Math.min(t.length, n.length) - 1; for (t[a] < t[0] && (t = t.slice().reverse(), n = n.slice().reverse()); ++o <= a;)i.push(e(t[o - 1], t[o])), u.push(r(n[o - 1], n[o])); return function (n) { var e = d3.bisect(t, n, 1, a) - 1; return u[e](i[e](n)) } } function Ft(t, n) { function e(e) { return t(n(e)) } var r = n.pow; return e.invert = function (n) { return r(t.invert(n)) }, e.domain = function (i) { return arguments.length ? (n = i[0] < 0 ? Ht : It, r = n.pow, t.domain(i.map(n)), e) : t.domain().map(r) }, e.nice = function () { return t.domain(At(t.domain(), St)), e }, e.ticks = function () { var e = kt(t.domain()), i = []; if (e.every(isFinite)) { var u = Math.floor(e[0]), o = Math.ceil(e[1]), a = r(e[0]), c = r(e[1]); if (n === Ht) for (i.push(r(u)); u++ < o;)for (var l = 9; l > 0; l--)i.push(r(u) * l); else { for (; u < o; u++)for (l = 1; l < 10; l++)i.push(r(u) * l); i.push(r(u)) } for (u = 0; i[u] < a; u++); for (o = i.length; i[o - 1] > c; o--); i = i.slice(u, o) } return i }, e.tickFormat = function (t, i) { if (arguments.length < 2 && (i = Xr), arguments.length < 1) return i; var u, o = Math.max(.1, t / e.ticks().length), a = n === Ht ? (u = -1e-12, Math.floor) : (u = 1e-12, Math.ceil); return function (t) { return t / r(a(n(t) + u)) <= o ? i(t) : "" } }, e.copy = function () { return Ft(t.copy(), n) }, Tt(e, t) } function It(t) { return Math.log(t < 0 ? 0 : t) / Math.LN10 } function Ht(t) { return -Math.log(t > 0 ? 0 : -t) / Math.LN10 } function Ot(t, n) { function e(n) { return t(r(n)) } var r = Rt(n), i = Rt(1 / n); return e.invert = function (n) { return i(t.invert(n)) }, e.domain = function (n) { return arguments.length ? (t.domain(n.map(r)), e) : t.domain().map(i) }, e.ticks = function (t) { return Et(e.domain(), t) }, e.tickFormat = function (t) { return Dt(e.domain(), t) }, e.nice = function () { return e.domain(At(e.domain(), qt)) }, e.exponent = function (t) { if (!arguments.length) return n; var u = e.domain(); return r = Rt(n = t), i = Rt(1 / n), e.domain(u) }, e.copy = function () { return Ot(t.copy(), n) }, Tt(e, t) } function Rt(t) { return function (n) { return n < 0 ? -Math.pow(-n, t) : Math.pow(n, t) } } function jt(n, e) { function r(t) { return o[((u.get(t) || u.set(t, n.push(t))) - 1) % o.length] } function i(t, e) { return d3.range(n.length).map((function (n) { return t + e * n })) } var u, o, a; return r.domain = function (i) { if (!arguments.length) return n; n = [], u = new t; for (var o, a = -1, c = i.length; ++a < c;)u.has(o = i[a]) || u.set(o, n.push(o)); return r[e.t].apply(r, e.a) }, r.range = function (t) { return arguments.length ? (o = t, a = 0, e = { t: "range", a: arguments }, r) : o }, r.rangePoints = function (t, u) { arguments.length < 2 && (u = 0); var c = t[0], l = t[1], f = (l - c) / (Math.max(1, n.length - 1) + u); return o = i(n.length < 2 ? (c + l) / 2 : c + f * u / 2, f), a = 0, e = { t: "rangePoints", a: arguments }, r }, r.rangeBands = function (t, u, c) { arguments.length < 2 && (u = 0), arguments.length < 3 && (c = u); var l = t[1] < t[0], f = t[l - 0], s = t[1 - l], h = (s - f) / (n.length - u + 2 * c); return o = i(f + h * c, h), l && o.reverse(), a = h * (1 - u), e = { t: "rangeBands", a: arguments }, r }, r.rangeRoundBands = function (t, u, c) { arguments.length < 2 && (u = 0), arguments.length < 3 && (c = u); var l = t[1] < t[0], f = t[l - 0], s = t[1 - l], h = Math.floor((s - f) / (n.length - u + 2 * c)), d = s - f - (n.length - u) * h; return o = i(f + Math.round(d / 2), h), l && o.reverse(), a = Math.round(h * (1 - u)), e = { t: "rangeRoundBands", a: arguments }, r }, r.rangeBand = function () { return a }, r.rangeExtent = function () { return kt(e.a[0]) }, r.copy = function () { return jt(n, e) }, r.domain(n) } function Yt(t, n) { function e() { var e = 0, u = (t.length, n.length); for (i = []; ++e < u;)i[e - 1] = d3.quantile(t, e / u); return r } function r(t) { return isNaN(t = +t) ? NaN : n[d3.bisect(i, t)] } var i; return r.domain = function (n) { return arguments.length ? (t = n.filter((function (t) { return !isNaN(t) })).sort(d3.ascending), e()) : t }, r.range = function (t) { return arguments.length ? (n = t, e()) : n }, r.quantiles = function () { return i }, r.copy = function () { return Yt(t, n) }, e() } function Ut(t, n, e) { function r(n) { return e[Math.max(0, Math.min(o, Math.floor(u * (n - t))))] } function i() { return u = e.length / (n - t), o = e.length - 1, r } var u, o; return r.domain = function (e) { return arguments.length ? (t = +e[0], n = +e[e.length - 1], i()) : [t, n] }, r.range = function (t) { return arguments.length ? (e = t, i()) : e }, r.copy = function () { return Ut(t, n, e) }, i() } function Vt(t, n) { function e(e) { return n[d3.bisect(t, e)] } return e.domain = function (n) { return arguments.length ? (t = n, e) : t }, e.range = function (t) { return arguments.length ? (n = t, e) : n }, e.copy = function () { return Vt(t, n) }, e } function Zt(t) { function n(t) { return +t } return n.invert = n, n.domain = n.range = function (e) { return arguments.length ? (t = e.map(n), n) : t }, n.ticks = function (n) { return Et(t, n) }, n.tickFormat = function (n) { return Dt(t, n) }, n.copy = function () { return Zt(t) }, n } function Bt(t) { return t.innerRadius } function Xt(t) { return t.outerRadius } function $t(t) { return t.startAngle } function Gt(t) { return t.endAngle } function Kt(t) { function n(n) { function r() { f.push("M", a(t(s), l)) } for (var c, f = [], s = [], h = -1, d = n.length, g = i(e), p = i(u); ++h < d;)o.call(this, c = n[h], h) ? s.push([+g.call(this, c, h), +p.call(this, c, h)]) : s.length && (r(), s = []); return s.length && r(), f.length ? f.join("") : null } var e = Jt, u = Qt, o = r, a = Wt, c = a.key, l = .7; return n.x = function (t) { return arguments.length ? (e = t, n) : e }, n.y = function (t) { return arguments.length ? (u = t, n) : u }, n.defined = function (t) { return arguments.length ? (o = t, n) : o }, n.interpolate = function (t) { return arguments.length ? (c = "function" == typeof t ? a = t : (a = ti.get(t) || Wt).key, n) : c }, n.tension = function (t) { return arguments.length ? (l = t, n) : l }, n } function Jt(t) { return t[0] } function Qt(t) { return t[1] } function Wt(t) { return t.join("L") } function tn(t) { for (var n = 0, e = t.length, r = t[0], i = [r[0], ",", r[1]]; ++n < e;)i.push("V", (r = t[n])[1], "H", r[0]); return i.join("") } function nn(t) { for (var n = 0, e = t.length, r = t[0], i = [r[0], ",", r[1]]; ++n < e;)i.push("H", (r = t[n])[0], "V", r[1]); return i.join("") } function en(t, n) { if (n.length < 1 || t.length != n.length && t.length != n.length + 2) return Wt(t); var e = t.length != n.length, r = "", i = t[0], u = t[1], o = n[0], a = o, c = 1; if (e && (r += "Q" + (u[0] - 2 * o[0] / 3) + "," + (u[1] - 2 * o[1] / 3) + "," + u[0] + "," + u[1], i = t[1], c = 2), n.length > 1) { a = n[1], u = t[c], c++, r += "C" + (i[0] + o[0]) + "," + (i[1] + o[1]) + "," + (u[0] - a[0]) + "," + (u[1] - a[1]) + "," + u[0] + "," + u[1]; for (var l = 2; l < n.length; l++, c++)u = t[c], a = n[l], r += "S" + (u[0] - a[0]) + "," + (u[1] - a[1]) + "," + u[0] + "," + u[1] } if (e) { var f = t[c]; r += "Q" + (u[0] + 2 * a[0] / 3) + "," + (u[1] + 2 * a[1] / 3) + "," + f[0] + "," + f[1] } return r } function rn(t, n) { for (var e, r = [], i = (1 - n) / 2, u = t[0], o = t[1], a = 1, c = t.length; ++a < c;)e = u, u = o, o = t[a], r.push([i * (o[0] - e[0]), i * (o[1] - e[1])]); return r } function un(t) { if (t.length < 3) return Wt(t); var n = 1, e = t.length, r = t[0], i = r[0], u = r[1], o = [i, i, i, (r = t[1])[0]], a = [u, u, u, r[1]], c = [i, ",", u]; for (an(c, o, a); ++n < e;)r = t[n], o.shift(), o.push(r[0]), a.shift(), a.push(r[1]), an(c, o, a); for (n = -1; ++n < 2;)o.shift(), o.push(r[0]), a.shift(), a.push(r[1]), an(c, o, a); return c.join("") } function on(t, n) { return t[0] * n[0] + t[1] * n[1] + t[2] * n[2] + t[3] * n[3] } function an(t, n, e) { t.push("C", on(ni, n), ",", on(ni, e), ",", on(ei, n), ",", on(ei, e), ",", on(ri, n), ",", on(ri, e)) } function cn(t, n) { return (n[1] - t[1]) / (n[0] - t[0]) } function ln(t) { for (var n, e, r, i, u = [], o = function (t) { for (var n = 0, e = t.length - 1, r = [], i = t[0], u = t[1], o = r[0] = cn(i, u); ++n < e;)r[n] = (o + (o = cn(i = u, u = t[n + 1]))) / 2; return r[n] = o, r }(t), a = -1, c = t.length - 1; ++a < c;)n = cn(t[a], t[a + 1]), Math.abs(n) < 1e-6 ? o[a] = o[a + 1] = 0 : (i = (e = o[a] / n) * e + (r = o[a + 1] / n) * r) > 9 && (i = 3 * n / Math.sqrt(i), o[a] = i * e, o[a + 1] = i * r); for (a = -1; ++a <= c;)i = (t[Math.min(c, a + 1)][0] - t[Math.max(0, a - 1)][0]) / (6 * (1 + o[a] * o[a])), u.push([i || 0, o[a] * i || 0]); return u } function fn(t) { for (var n, e, r, i = -1, u = t.length; ++i < u;)e = (n = t[i])[0], r = n[1] + Qr, n[0] = e * Math.cos(r), n[1] = e * Math.sin(r); return t } function sn(t) { function n(n) { function r() { v.push("M", l(t(y), d), h, s(t(m.reverse()), d), "Z") } for (var f, g, p, v = [], m = [], y = [], x = -1, b = n.length, M = i(e), _ = i(o), w = e === u ? function () { return g } : i(u), k = o === a ? function () { return p } : i(a); ++x < b;)c.call(this, f = n[x], x) ? (m.push([g = +M.call(this, f, x), p = +_.call(this, f, x)]), y.push([+w.call(this, f, x), +k.call(this, f, x)])) : m.length && (r(), m = [], y = []); return m.length && r(), v.length ? v.join("") : null } var e = Jt, u = Jt, o = 0, a = Qt, c = r, l = Wt, f = l.key, s = l, h = "L", d = .7; return n.x = function (t) { return arguments.length ? (e = u = t, n) : u }, n.x0 = function (t) { return arguments.length ? (e = t, n) : e }, n.x1 = function (t) { return arguments.length ? (u = t, n) : u }, n.y = function (t) { return arguments.length ? (o = a = t, n) : a }, n.y0 = function (t) { return arguments.length ? (o = t, n) : o }, n.y1 = function (t) { return arguments.length ? (a = t, n) : a }, n.defined = function (t) { return arguments.length ? (c = t, n) : c }, n.interpolate = function (t) { return arguments.length ? (f = "function" == typeof t ? l = t : (l = ti.get(t) || Wt).key, s = l.reverse || l, h = l.closed ? "M" : "L", n) : f }, n.tension = function (t) { return arguments.length ? (d = t, n) : d }, n } function hn(t) { return t.source } function dn(t) { return t.target } function gn(t) { return t.radius } function pn(t) { return [t.x, t.y] } function vn(t) { return function () { var n = t.apply(this, arguments), e = n[0], r = n[1] + Qr; return [e * Math.cos(r), e * Math.sin(r)] } } function mn() { return 64 } function yn() { return "circle" } function xn(t) { var n = Math.sqrt(t / Math.PI); return "M0," + n + "A" + n + "," + n + " 0 1,1 0," + -n + "A" + n + "," + n + " 0 1,1 0," + n + "Z" } function bn(t, n) { t.attr("transform", (function (t) { return "translate(" + n(t) + ",0)" })) } function Mn(t, n) { t.attr("transform", (function (t) { return "translate(0," + n(t) + ")" })) } function _n() { li || (li = d3.select("body").append("div").style("visibility", "hidden").style("top", 0).style("height", 0).style("width", 0).style("overflow-y", "scroll").append("div").style("height", "2000px").node().parentNode); var t, n = d3.event; try { li.scrollTop = 1e3, li.dispatchEvent(n), t = 1e3 - li.scrollTop } catch (e) { t = n.wheelDelta || 5 * -n.detail } return t } function wn(t) { for (var n = t.source, e = t.target, r = function (t, n) { if (t === n) return t; var e = kn(t), r = kn(n), i = e.pop(), u = r.pop(), o = null; for (; i === u;)o = i, i = e.pop(), u = r.pop(); return o }(n, e), i = [n]; n !== r;)n = n.parent, i.push(n); for (var u = i.length; e !== r;)i.splice(u, 0, e), e = e.parent; return i } function kn(t) { for (var n = [], e = t.parent; null != e;)n.push(t), t = e, e = e.parent; return n.push(t), n } function Nn(t) { t.fixed |= 2 } function An(t) { t.fixed &= 1 } function Sn(t) { t.fixed |= 4 } function Cn(t) { t.fixed &= 3 } function Tn(t, n, e) { var r = 0, i = 0; if (t.charge = 0, !t.leaf) for (var u, o = t.nodes, a = o.length, c = -1; ++c < a;)null != (u = o[c]) && (Tn(u, n, e), t.charge += u.charge, r += u.charge * u.cx, i += u.charge * u.cy); if (t.point) { t.leaf || (t.point.x += Math.random() - .5, t.point.y += Math.random() - .5); var l = n * e[t.point.index]; t.charge += t.pointCharge = l, r += l * t.point.x, i += l * t.point.y } t.cx = r / t.charge, t.cy = i / t.charge } function qn(t) { return 20 } function zn(t) { return 1 } function En(t) { return t.x } function Dn(t) { return t.y } function Pn(t, n, e) { t.y0 = n, t.y = e } function Ln(t) { return d3.range(t.length) } function Fn(t) { for (var n = -1, e = t[0].length, r = []; ++n < e;)r[n] = 0; return r } function In(t) { for (var n, e = 1, r = 0, i = t[0][1], u = t.length; e < u; ++e)(n = t[e][1]) > i && (r = e, i = n); return r } function Hn(t) { return t.reduce(On, 0) } function On(t, n) { return t + n[1] } function Rn(t, n) { return jn(t, Math.ceil(Math.log(n.length) / Math.LN2 + 1)) } function jn(t, n) { for (var e = -1, r = +t[0], i = (t[1] - r) / n, u = []; ++e <= n;)u[e] = i * e + r; return u } function Yn(t) { return [d3.min(t), d3.max(t)] } function Un(t, n) { return d3.rebind(t, n, "sort", "children", "value"), t.links = Xn, t.nodes = function (n) { return gi = !0, (t.nodes = t)(n) }, t } function Vn(t) { return t.children } function Zn(t) { return t.value } function Bn(t, n) { return n.value - t.value } function Xn(t) { return d3.merge(t.map((function (t) { return (t.children || []).map((function (n) { return { source: t, target: n } })) }))) } function $n(t, n) { return t.value - n.value } function Gn(t, n) { var e = t._pack_next; t._pack_next = n, n._pack_prev = t, n._pack_next = e, e._pack_prev = n } function Kn(t, n) { t._pack_next = n, n._pack_prev = t } function Jn(t, n) { var e = n.x - t.x, r = n.y - t.y, i = t.r + n.r; return i * i - e * e - r * r > .001 } function Qn(t) { function n(t) { f = Math.min(t.x - t.r, f), s = Math.max(t.x + t.r, s), h = Math.min(t.y - t.r, h), d = Math.max(t.y + t.r, d) } if ((e = t.children) && (l = e.length)) { var e, r, i, u, o, a, c, l, f = 1 / 0, s = -1 / 0, h = 1 / 0, d = -1 / 0; if (e.forEach(Wn), (r = e[0]).x = -r.r, r.y = 0, n(r), l > 1 && ((i = e[1]).x = i.r, i.y = 0, n(i), l > 2)) for (ee(r, i, u = e[2]), n(u), Gn(r, u), r._pack_prev = u, Gn(u, i), i = r._pack_next, o = 3; o < l; o++) { ee(r, i, u = e[o]); var g = 0, p = 1, v = 1; for (a = i._pack_next; a !== i; a = a._pack_next, p++)if (Jn(a, u)) { g = 1; break } if (1 == g) for (c = r._pack_prev; c !== a._pack_prev && !Jn(c, u); c = c._pack_prev, v++); g ? (p < v || p == v && i.r < r.r ? Kn(r, i = a) : Kn(r = c, i), o--) : (Gn(r, u), i = u, n(u)) } var m = (f + s) / 2, y = (h + d) / 2, x = 0; for (o = 0; o < l; o++)(u = e[o]).x -= m, u.y -= y, x = Math.max(x, u.r + Math.sqrt(u.x * u.x + u.y * u.y)); t.r = x, e.forEach(te) } } function Wn(t) { t._pack_next = t._pack_prev = t } function te(t) { delete t._pack_next, delete t._pack_prev } function ne(t, n, e, r) { var i = t.children; if (t.x = n += r * t.x, t.y = e += r * t.y, t.r *= r, i) for (var u = -1, o = i.length; ++u < o;)ne(i[u], n, e, r) } function ee(t, n, e) { var r = t.r + e.r, i = n.x - t.x, u = n.y - t.y; if (r && (i || u)) { var o = n.r + e.r, a = i * i + u * u, c = .5 + ((r *= r) - (o *= o)) / (2 * a), l = Math.sqrt(Math.max(0, 2 * o * (r + a) - (r -= a) * r - o * o)) / (2 * a); e.x = t.x + c * i + l * u, e.y = t.y + c * u - l * i } else e.x = t.x + r, e.y = t.y } function re(t) { var n = t.children; return n && n.length ? re(n[0]) : t } function ie(t) { var n, e = t.children; return e && (n = e.length) ? ie(e[n - 1]) : t } function ue(t, n) { return t.parent == n.parent ? 1 : 2 } function oe(t) { var n = t.children; return n && n.length ? n[0] : t._tree.thread } function ae(t) { var n, e = t.children; return e && (n = e.length) ? e[n - 1] : t._tree.thread } function ce(t, n) { var e = t.children; if (e && (i = e.length)) for (var r, i, u = -1; ++u < i;)n(r = ce(e[u], n), t) > 0 && (t = r); return t } function le(t, n) { return t.x - n.x } function fe(t, n) { return n.x - t.x } function se(t, n) { return t.depth - n.depth } function he(t, n) { !function t(e, r) { var i = e.children; if (i && (o = i.length)) for (var u, o, a = null, c = -1; ++c < o;)t(u = i[c], a), a = u; n(e, r) }(t, null) } function de(t, n, e) { t = t._tree; var r = e / ((n = n._tree).number - t.number); t.change += r, n.change -= r, n.shift += e, n.prelim += e, n.mod += e } function ge(t, n, e) { return t._tree.ancestor.parent == n.parent ? t._tree.ancestor : e } function pe(t) { return { x: t.x, y: t.y, dx: t.dx, dy: t.dy } } function ve(t, n) { var e = t.x + n[3], r = t.y + n[0], i = t.dx - n[1] - n[3], u = t.dy - n[0] - n[2]; return i < 0 && (e += i / 2, i = 0), u < 0 && (r += u / 2, u = 0), { x: e, y: r, dx: i, dy: u } } function me(t, n) { function e(t, r) { d3.text(t, n, (function (t) { r(t && e.parse(t)) })) } function r(n) { return n.map(i).join(t) } function i(t) { return o.test(t) ? '"' + t.replace(/\"/g, '""') + '"' : t } var u = new RegExp("\r\n|[" + t + "\r\n]", "g"), o = new RegExp('["' + t + "\n]"), a = t.charCodeAt(0); return e.parse = function (t) { var n; return e.parseRows(t, (function (t, e) { if (e) { for (var r = {}, i = -1, u = n.length; ++i < u;)r[n[i]] = t[i]; return r } return n = t, null })) }, e.parseRows = function (t, n) { function e() { if (u.lastIndex >= t.length) return c; if (i) return i = !1, o; var n = u.lastIndex; if (34 === t.charCodeAt(n)) { for (var e = n; e++ < t.length;)if (34 === t.charCodeAt(e)) { if (34 !== t.charCodeAt(e + 1)) break; e++ } u.lastIndex = e + 2; var r = t.charCodeAt(e + 1); return 13 === r ? (i = !0, 10 === t.charCodeAt(e + 2) && u.lastIndex++) : 10 === r && (i = !0), t.substring(n + 1, e).replace(/""/g, '"') } var l = u.exec(t); return l ? (i = l[0].charCodeAt(0) !== a, t.substring(n, l.index)) : (u.lastIndex = t.length, t.substring(n)) } var r, i, o = {}, c = {}, l = [], f = 0; for (u.lastIndex = 0; (r = e()) !== c;) { for (var s = []; r !== o && r !== c;)s.push(r), r = e(); n && !(s = n(s, f++)) || l.push(s) } return l }, e.format = function (t) { return t.map(r).join("\n") }, e } function ye(t, n) { return function (e) { return e && t.hasOwnProperty(e.type) ? t[e.type](e) : n } } function xe(t) { return "m0," + t + "a" + t + "," + t + " 0 1,1 0," + -2 * t + "a" + t + "," + t + " 0 1,1 0," + 2 * t + "z" } function be(t, n) { vi.hasOwnProperty(t.type) && vi[t.type](t, n) } function Me(t, n) { for (var e = t.coordinates, r = 0, i = e.length; r < i; r++)n.apply(null, e[r]) } function _e(t) { return t.source } function we(t) { return t.target } function ke() { function t(t) { var n = Math.sin(t *= d) * g, e = Math.sin(d - t) * g, r = e * u + n * s, a = e * o + n * h, c = e * i + n * f; return [Math.atan2(a, r) / pi, Math.atan2(c, Math.sqrt(r * r + a * a)) / pi] } var n, e, r, i, u, o, a, c, l, f, s, h, d, g; return t.distance = function () { return null == d && (g = 1 / Math.sin(d = Math.acos(Math.max(-1, Math.min(1, i * f + r * l * Math.cos(a - n)))))), d }, t.source = function (a) { var c = Math.cos(n = a[0] * pi), l = Math.sin(n); return r = Math.cos(e = a[1] * pi), i = Math.sin(e), u = r * c, o = r * l, d = null, t }, t.target = function (n) { var e = Math.cos(a = n[0] * pi), r = Math.sin(a); return l = Math.cos(c = n[1] * pi), f = Math.sin(c), s = l * e, h = l * r, d = null, t }, t } function Ne(t, n) { var e = ke().source(t).target(n); return e.distance(), e } function Ae(t, n, e, r) { var i, u, o, a, c, l; return u = (i = r[t])[0], o = i[1], a = (i = r[n])[0], c = i[1], l = (i = r[e])[0], (i[1] - o) * (a - u) - (c - o) * (l - u) > 0 } function Se(t, n, e) { return (e[0] - n[0]) * (t[1] - n[1]) < (e[1] - n[1]) * (t[0] - n[0]) } function Ce(t, n, e, r) { var i = t[0], u = n[0], o = e[0], a = r[0], c = t[1], l = n[1], f = e[1], s = u - i, h = a - o, d = l - c, g = r[1] - f, p = (h * (c - f) - g * (i - o)) / (g * s - h * d); return [i + p * s, c + p * d] } function Te(t, n) { var e = { list: t.map((function (t, n) { return { index: n, x: t[0], y: t[1] } })).sort((function (t, n) { return t.y < n.y ? -1 : t.y > n.y ? 1 : t.x < n.x ? -1 : t.x > n.x ? 1 : 0 })), bottomSite: null }, r = { list: [], leftEnd: null, rightEnd: null, init: function () { r.leftEnd = r.createHalfEdge(null, "l"), r.rightEnd = r.createHalfEdge(null, "l"), r.leftEnd.r = r.rightEnd, r.rightEnd.l = r.leftEnd, r.list.unshift(r.leftEnd, r.rightEnd) }, createHalfEdge: function (t, n) { return { edge: t, side: n, vertex: null, l: null, r: null } }, insert: function (t, n) { n.l = t, n.r = t.r, t.r.l = n, t.r = n }, leftBound: function (t) { var n = r.leftEnd; do { n = n.r } while (n != r.rightEnd && i.rightOf(n, t)); return n = n.l }, del: function (t) { t.l.r = t.r, t.r.l = t.l, t.edge = null }, right: function (t) { return t.r }, left: function (t) { return t.l }, leftRegion: function (t) { return null == t.edge ? e.bottomSite : t.edge.region[t.side] }, rightRegion: function (t) { return null == t.edge ? e.bottomSite : t.edge.region[xi[t.side]] } }, i = { bisect: function (t, n) { var e = { region: { l: t, r: n }, ep: { l: null, r: null } }, r = n.x - t.x, i = n.y - t.y, u = r > 0 ? r : -r, o = i > 0 ? i : -i; return e.c = t.x * r + t.y * i + .5 * (r * r + i * i), u > o ? (e.a = 1, e.b = i / r, e.c /= r) : (e.b = 1, e.a = r / i, e.c /= i), e }, intersect: function (t, n) { var e = t.edge, r = n.edge; if (!e || !r || e.region.r == r.region.r) return null; var i = e.a * r.b - e.b * r.a; if (Math.abs(i) < 1e-10) return null; var u, o, a = (e.c * r.b - r.c * e.b) / i, c = (r.c * e.a - e.c * r.a) / i, l = e.region.r, f = r.region.r; l.y < f.y || l.y == f.y && l.x < f.x ? (u = t, o = e) : (u = n, o = r); var s = a >= o.region.r.x; return s && "l" === u.side || !s && "r" === u.side ? null : { x: a, y: c } }, rightOf: function (t, n) { var e = t.edge, r = e.region.r, i = n.x > r.x; if (i && "l" === t.side) return 1; if (!i && "r" === t.side) return 0; if (1 === e.a) { var u = n.y - r.y, o = n.x - r.x, a = 0, c = 0; if (!i && e.b < 0 || i && e.b >= 0 ? c = a = u >= e.b * o : (c = n.x + n.y * e.b > e.c, e.b < 0 && (c = !c), c || (a = 1)), !a) { var l = r.x - e.region.l.x; c = e.b * (o * o - u * u) < l * u * (1 + 2 * o / l + e.b * e.b), e.b < 0 && (c = !c) } } else { var f = e.c - e.a * n.x, s = n.y - f, h = n.x - r.x, d = f - r.y; c = s * s > h * h + d * d } return "l" === t.side ? c : !c }, endPoint: function (t, e, r) { t.ep[e] = r, t.ep[xi[e]] && n(t) }, distance: function (t, n) { var e = t.x - n.x, r = t.y - n.y; return Math.sqrt(e * e + r * r) } }, u = { list: [], insert: function (t, n, e) { t.vertex = n, t.ystar = n.y + e; for (var r = 0, i = u.list, o = i.length; r < o; r++) { var a = i[r]; if (!(t.ystar > a.ystar || t.ystar == a.ystar && n.x > a.vertex.x)) break } i.splice(r, 0, t) }, del: function (t) { for (var n = 0, e = u.list, r = e.length; n < r && e[n] != t; ++n); e.splice(n, 1) }, empty: function () { return 0 === u.list.length }, nextEvent: function (t) { for (var n = 0, e = u.list, r = e.length; n < r; ++n)if (e[n] == t) return e[n + 1]; return null }, min: function () { var t = u.list[0]; return { x: t.vertex.x, y: t.ystar } }, extractMin: function () { return u.list.shift() } }; r.init(), e.bottomSite = e.list.shift(); for (var o, a, c, l, f, s, h, d, g, p, v, m, y, x = e.list.shift(); ;)if (u.empty() || (o = u.min()), x && (u.empty() || x.y < o.y || x.y == o.y && x.x < o.x)) a = r.leftBound(x), c = r.right(a), h = r.rightRegion(a), m = i.bisect(h, x), s = r.createHalfEdge(m, "l"), r.insert(a, s), (p = i.intersect(a, s)) && (u.del(a), u.insert(a, p, i.distance(p, x))), a = s, s = r.createHalfEdge(m, "r"), r.insert(a, s), (p = i.intersect(s, c)) && u.insert(s, p, i.distance(p, x)), x = e.list.shift(); else { if (u.empty()) break; a = u.extractMin(), l = r.left(a), c = r.right(a), f = r.right(c), h = r.leftRegion(a), d = r.rightRegion(c), v = a.vertex, i.endPoint(a.edge, a.side, v), i.endPoint(c.edge, c.side, v), r.del(a), u.del(c), r.del(c), y = "l", h.y > d.y && (g = h, h = d, d = g, y = "r"), m = i.bisect(h, d), s = r.createHalfEdge(m, y), r.insert(l, s), i.endPoint(m, xi[y], v), (p = i.intersect(l, s)) && (u.del(l), u.insert(l, p, i.distance(p, h))), (p = i.intersect(s, f)) && u.insert(s, p, i.distance(p, h)) } for (a = r.right(r.leftEnd); a != r.rightEnd; a = r.right(a))n(a.edge) } function qe(t, n, e, r, i, u) { if (!t(n, e, r, i, u)) { var o = .5 * (e + i), a = .5 * (r + u), c = n.nodes; c[0] && qe(t, c[0], e, r, o, a), c[1] && qe(t, c[1], o, r, i, a), c[2] && qe(t, c[2], e, a, o, u), c[3] && qe(t, c[3], o, a, i, u) } } function ze(t) { return { x: t[0], y: t[1] } } function Ee() { this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]) } function De(t) { return t.substring(0, 3) } function Pe(t, n, e, r) { for (var i, u, o = 0, a = n.length, c = e.length; o < a;) { if (r >= c) return -1; if (37 == (i = n.charCodeAt(o++))) { if (!(u = Hi[n.charAt(o++)]) || (r = u(t, e, r)) < 0) return -1 } else if (i != e.charCodeAt(r++)) return -1 } return r } function Le(t) { return new RegExp("^(?:" + t.map(d3.requote).join("|") + ")", "i") } function Fe(n) { for (var e = new t, r = -1, i = n.length; ++r < i;)e.set(n[r].toLowerCase(), r); return e } function Ie(t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 2)); return r ? (t.d = +r[0], e += r[0].length) : -1 } function He(t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 2)); return r ? (t.H = +r[0], e += r[0].length) : -1 } function Oe(t) { return t.toISOString() } function Re(t, n, e) { function r(n) { var e = t(n), r = u(e, 1); return n - e < r - n ? e : r } function i(e) { return n(e = t(new bi(e - 1)), 1), e } function u(t, e) { return n(t = new bi(+t), e), t } function o(t, r, u) { var o = i(t), a = []; if (u > 1) for (; o < r;)e(o) % u || a.push(new Date(+o)), n(o, 1); else for (; o < r;)a.push(new Date(+o)), n(o, 1); return a } t.floor = t, t.round = r, t.ceil = i, t.offset = u, t.range = o; var a = t.utc = je(t); return a.floor = a, a.round = je(r), a.ceil = je(i), a.offset = je(u), a.range = function (t, n, e) { try { bi = Ee; var r = new Ee; return r._ = t, o(r, n, e) } finally { bi = Date } }, t } function je(t) { return function (n, e) { try { bi = Ee; var r = new Ee; return r._ = n, t(r, e)._ } finally { bi = Date } } } function Ye(t, n, e) { function r(n) { return t(n) } return r.invert = function (n) { return Ue(t.invert(n)) }, r.domain = function (n) { return arguments.length ? (t.domain(n), r) : t.domain().map(Ue) }, r.nice = function (t) { return r.domain(At(r.domain(), (function () { return t }))) }, r.ticks = function (e, i) { var u, o, a, c = (u = r.domain(), o = u[0], a = u[u.length - 1], o < a ? [o, a] : [a, o]); if ("function" != typeof e) { var l = (c[1] - c[0]) / e, f = d3.bisect(Yi, l); if (f == Yi.length) return n.year(c, e); if (!f) return t.ticks(e).map(Ue); Math.log(l / Yi[f - 1]) < Math.log(Yi[f] / l) && --f, i = (e = n[f])[1], e = e[0].range } return e(c[0], new Date(+c[1] + 1), i) }, r.tickFormat = function () { return e }, r.copy = function () { return Ye(t.copy(), n, e) }, d3.rebind(r, t, "range", "rangeRound", "interpolate", "clamp") } function Ue(t) { return new Date(t) } function Ve(t) { return function (n) { for (var e = t.length - 1, r = t[e]; !r[1](n);)r = t[--e]; return r[0](n) } } function Ze(t) { var n = new Date(t, 0, 1); return n.setFullYear(t), n } function Be(t) { var n = t.getFullYear(), e = Ze(n); return n + (t - e) / (Ze(n + 1) - e) } function Xe(t) { var n = new Date(Date.UTC(t, 0, 1)); return n.setUTCFullYear(t), n } function $e(t) { var n = t.getUTCFullYear(), e = Xe(n); return n + (t - e) / (Xe(n + 1) - e) } Date.now || (Date.now = function () { return +new Date }); try { document.createElement("div").style.setProperty("opacity", 0, "") } catch (t) { var Ge = CSSStyleDeclaration.prototype, Ke = Ge.setProperty; Ge.setProperty = function (t, n, e) { Ke.call(this, t, n + "", e) } } d3 = { version: "2.10.3" }; var Je = function (t) { return Array.prototype.slice.call(t) }; try { Je(document.documentElement.childNodes)[0].nodeType } catch (t) { Je = function (t) { for (var n = -1, e = t.length, r = []; ++n < e;)r.push(t[n]); return r } } var Qe = [].__proto__ ? function (t, n) { t.__proto__ = n } : function (t, n) { for (var e in n) t[e] = n[e] }; d3.map = function (n) { var e = new t; for (var r in n) e.set(r, n[r]); return e }, function (t, n) { try { for (var e in n) Object.defineProperty(t.prototype, e, { value: n[e], enumerable: !1 }) } catch (e) { t.prototype = n } }(t, { has: function (t) { return We + t in this }, get: function (t) { return this[We + t] }, set: function (t, n) { return this[We + t] = n }, remove: function (t) { return (t = We + t) in this && delete this[t] }, keys: function () { var t = []; return this.forEach((function (n) { t.push(n) })), t }, values: function () { var t = []; return this.forEach((function (n, e) { t.push(e) })), t }, entries: function () { var t = []; return this.forEach((function (n, e) { t.push({ key: n, value: e }) })), t }, forEach: function (t) { for (var n in this) n.charCodeAt(0) === tr && t.call(this, n.substring(1), this[n]) } }); var We = "\0", tr = We.charCodeAt(0); d3.functor = i, d3.rebind = function (t, n) { for (var e, r = 1, i = arguments.length; ++r < i;)t[e = arguments[r]] = u(t, n, n[e]); return t }, d3.ascending = function (t, n) { return t < n ? -1 : t > n ? 1 : t >= n ? 0 : NaN }, d3.descending = function (t, n) { return n < t ? -1 : n > t ? 1 : n >= t ? 0 : NaN }, d3.mean = function (t, n) { var e, r = t.length, i = 0, u = -1, a = 0; if (1 === arguments.length) for (; ++u < r;)o(e = t[u]) && (i += (e - i) / ++a); else for (; ++u < r;)o(e = n.call(t, t[u], u)) && (i += (e - i) / ++a); return a ? i : void 0 }, d3.median = function (t, n) { return arguments.length > 1 && (t = t.map(n)), (t = t.filter(o)).length ? d3.quantile(t.sort(d3.ascending), .5) : void 0 }, d3.min = function (t, n) { var e, r, i = -1, u = t.length; if (1 === arguments.length) { for (; ++i < u && (null == (e = t[i]) || e != e);)e = void 0; for (; ++i < u;)null != (r = t[i]) && e > r && (e = r) } else { for (; ++i < u && (null == (e = n.call(t, t[i], i)) || e != e);)e = void 0; for (; ++i < u;)null != (r = n.call(t, t[i], i)) && e > r && (e = r) } return e }, d3.max = function (t, n) { var e, r, i = -1, u = t.length; if (1 === arguments.length) { for (; ++i < u && (null == (e = t[i]) || e != e);)e = void 0; for (; ++i < u;)null != (r = t[i]) && r > e && (e = r) } else { for (; ++i < u && (null == (e = n.call(t, t[i], i)) || e != e);)e = void 0; for (; ++i < u;)null != (r = n.call(t, t[i], i)) && r > e && (e = r) } return e }, d3.extent = function (t, n) { var e, r, i, u = -1, o = t.length; if (1 === arguments.length) { for (; ++u < o && (null == (e = i = t[u]) || e != e);)e = i = void 0; for (; ++u < o;)null != (r = t[u]) && (e > r && (e = r), i < r && (i = r)) } else { for (; ++u < o && (null == (e = i = n.call(t, t[u], u)) || e != e);)e = void 0; for (; ++u < o;)null != (r = n.call(t, t[u], u)) && (e > r && (e = r), i < r && (i = r)) } return [e, i] }, d3.random = { normal: function (t, n) { var e = arguments.length; return e < 2 && (n = 1), e < 1 && (t = 0), function () { var e, r, i; do { i = (e = 2 * Math.random() - 1) * e + (r = 2 * Math.random() - 1) * r } while (!i || i > 1); return t + n * e * Math.sqrt(-2 * Math.log(i) / i) } }, logNormal: function (t, n) { var e = arguments.length; e < 2 && (n = 1), e < 1 && (t = 0); var r = d3.random.normal(); return function () { return Math.exp(t + n * r()) } }, irwinHall: function (t) { return function () { for (var n = 0, e = 0; e < t; e++)n += Math.random(); return n / t } } }, d3.sum = function (t, n) { var e, r = 0, i = t.length, u = -1; if (1 === arguments.length) for (; ++u < i;)isNaN(e = +t[u]) || (r += e); else for (; ++u < i;)isNaN(e = +n.call(t, t[u], u)) || (r += e); return r }, d3.quantile = function (t, n) { var e = (t.length - 1) * n + 1, r = Math.floor(e), i = t[r - 1], u = e - r; return u ? i + u * (t[r] - i) : i }, d3.transpose = function (t) { return d3.zip.apply(d3, t) }, d3.zip = function () { if (!(r = arguments.length)) return []; for (var t = -1, n = d3.min(arguments, a), e = new Array(n); ++t < n;)for (var r, i = -1, u = e[t] = new Array(r); ++i < r;)u[i] = arguments[i][t]; return e }, d3.bisector = function (t) { return { left: function (n, e, r, i) { for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = n.length); r < i;) { var u = r + i >>> 1; t.call(n, n[u], u) < e ? r = u + 1 : i = u } return r }, right: function (n, e, r, i) { for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = n.length); r < i;) { var u = r + i >>> 1; e < t.call(n, n[u], u) ? i = u : r = u + 1 } return r } } }; var nr = d3.bisector((function (t) { return t })); d3.bisectLeft = nr.left, d3.bisect = d3.bisectRight = nr.right, d3.first = function (t, n) { var e, r = 0, i = t.length, u = t[0]; for (1 === arguments.length && (n = d3.ascending); ++r < i;)n.call(t, u, e = t[r]) > 0 && (u = e); return u }, d3.last = function (t, n) { var e, r = 0, i = t.length, u = t[0]; for (1 === arguments.length && (n = d3.ascending); ++r < i;)n.call(t, u, e = t[r]) <= 0 && (u = e); return u }, d3.nest = function () { function n(e, a) { if (a >= o.length) return i ? i.call(u, e) : r ? e.sort(r) : e; for (var c, l, f, s = -1, h = e.length, d = o[a++], g = new t, p = {}; ++s < h;)(f = g.get(c = d(l = e[s]))) ? f.push(l) : g.set(c, [l]); return g.forEach((function (t, e) { p[t] = n(e, a) })), p } function e(t, n) { if (n >= o.length) return t; var r, i = [], u = a[n++]; for (r in t) i.push({ key: r, values: e(t[r], n) }); return u && i.sort((function (t, n) { return u(t.key, n.key) })), i } var r, i, u = {}, o = [], a = []; return u.map = function (t) { return n(t, 0) }, u.entries = function (t) { return e(n(t, 0), 0) }, u.key = function (t) { return o.push(t), u }, u.sortKeys = function (t) { return a[o.length - 1] = t, u }, u.sortValues = function (t) { return r = t, u }, u.rollup = function (t) { return i = t, u }, u }, d3.keys = function (t) { var n = []; for (var e in t) n.push(e); return n }, d3.values = function (t) { var n = []; for (var e in t) n.push(t[e]); return n }, d3.entries = function (t) { var n = []; for (var e in t) n.push({ key: e, value: t[e] }); return n }, d3.permute = function (t, n) { for (var e = [], r = -1, i = n.length; ++r < i;)e[r] = t[n[r]]; return e }, d3.merge = function (t) { return Array.prototype.concat.apply([], t) }, d3.split = function (t, n) { var e, r = [], i = [], u = -1, o = t.length; for (arguments.length < 2 && (n = c); ++u < o;)n.call(i, e = t[u], u) ? i = [] : (i.length || r.push(i), i.push(e)); return r }, d3.range = function (t, n, e) { if (arguments.length < 3 && (e = 1, arguments.length < 2 && (n = t, t = 0)), (n - t) / e == 1 / 0) throw new Error("infinite range"); var r, i = [], u = f(Math.abs(e)), o = -1; if (t *= u, n *= u, (e *= u) < 0) for (; (r = t + e * ++o) > n;)i.push(r / u); else for (; (r = t + e * ++o) < n;)i.push(r / u); return i }, d3.requote = function (t) { return t.replace(er, "\\$&") }; var er = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g; d3.round = function (t, n) { return n ? Math.round(t * (n = Math.pow(10, n))) / n : Math.round(t) }, d3.xhr = function (t, n, e) { var r = new XMLHttpRequest; arguments.length < 3 ? (e = n, n = null) : n && r.overrideMimeType && r.overrideMimeType(n), r.open("GET", t, !0), n && r.setRequestHeader("Accept", n), r.onreadystatechange = function () { if (4 === r.readyState) { var t = r.status; e(!t && r.response || t >= 200 && t < 300 || 304 === t ? r : null) } }, r.send(null) }, d3.text = function (t, n, e) { function r(t) { e(t && t.responseText) } arguments.length < 3 && (e = n, n = null), d3.xhr(t, n, r) }, d3.json = function (t, n) { d3.text(t, "application/json", (function (t) { n(t ? JSON.parse(t) : null) })) }, d3.html = function (t, n) { d3.text(t, "text/html", (function (t) { if (null != t) { var e = document.createRange(); e.selectNode(document.body), t = e.createContextualFragment(t) } n(t) })) }, d3.xml = function (t, n, e) { function r(t) { e(t && t.responseXML) } arguments.length < 3 && (e = n, n = null), d3.xhr(t, n, r) }; var rr = { svg: "http://www.w3.org/2000/svg", xhtml: "http://www.w3.org/1999/xhtml", xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }; d3.ns = { prefix: rr, qualify: function (t) { var n = t.indexOf(":"), e = t; return n >= 0 && (e = t.substring(0, n), t = t.substring(n + 1)), rr.hasOwnProperty(e) ? { space: rr[e], local: t } : t } }, d3.dispatch = function () { for (var t = new s, n = -1, e = arguments.length; ++n < e;)t[arguments[n]] = h(t); return t }, s.prototype.on = function (t, n) { var e = t.indexOf("."), r = ""; return e > 0 && (r = t.substring(e + 1), t = t.substring(0, e)), arguments.length < 2 ? this[t].on(r) : this[t].on(r, n) }, d3.format = function (t) { var n = ir.exec(t), e = n[1] || " ", r = n[3] || "", i = n[5], u = +n[6], o = n[7], a = n[8], c = n[9], l = 1, f = "", s = !1; switch (a && (a = +a.substring(1)), i && (e = "0", o && (u -= Math.floor((u - 1) / 4))), c) { case "n": o = !0, c = "g"; break; case "%": l = 100, f = "%", c = "f"; break; case "p": l = 100, f = "%", c = "r"; break; case "d": s = !0, a = 0; break; case "s": l = -1, c = "r"; break }return "r" != c || a || (c = "g"), c = ur.get(c) || g, function (t) { if (s && t % 1) return ""; var n, h = t < 0 && (t = -t) ? "-" : r; if (l < 0) { var d = d3.formatPrefix(t, a); t = d.scale(t), f = d.symbol } else t *= l; (t = c(t, a), i) ? ((n = t.length + h.length) < u && (t = new Array(u - n + 1).join(e) + t), o && (t = p(t)), t = h + t) : (o && (t = p(t)), (n = (t = h + t).length) < u && (t = new Array(u - n + 1).join(e) + t)); return t + f } }; var ir = /(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/, ur = d3.map({ g: function (t, n) { return t.toPrecision(n) }, e: function (t, n) { return t.toExponential(n) }, f: function (t, n) { return t.toFixed(n) }, r: function (t, n) { return d3.round(t, n = d(t, n)).toFixed(Math.max(0, Math.min(20, n))) } }), or = ["y", "z", "a", "f", "p", "n", "μ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map((function (t, n) { var e = Math.pow(10, 3 * Math.abs(8 - n)); return { scale: n > 8 ? function (t) { return t / e } : function (t) { return t * e }, symbol: t } })); d3.formatPrefix = function (t, n) { var e = 0; return t && (t < 0 && (t *= -1), n && (t = d3.round(t, d(t, n))), e = 1 + Math.floor(1e-12 + Math.log(t) / Math.LN10), e = Math.max(-24, Math.min(24, 3 * Math.floor((e <= 0 ? e + 1 : e - 1) / 3)))), or[8 + e / 3] }; var ar = b(2), cr = b(3), lr = function () { return x }, fr = d3.map({ linear: lr, poly: b, quad: function () { return ar }, cubic: function () { return cr }, sin: function () { return M }, exp: function () { return _ }, circle: function () { return w }, elastic: function (t, n) { var e; return arguments.length < 2 && (n = .45), arguments.length < 1 ? (t = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / t), function (r) { return 1 + t * Math.pow(2, 10 * -r) * Math.sin(2 * (r - e) * Math.PI / n) } }, back: function (t) { return t || (t = 1.70158), function (n) { return n * n * ((t + 1) * n - t) } }, bounce: function () { return k } }), sr = d3.map({ in: x, out: m, "in-out": y, "out-in": function (t) { return y(m(t)) } }); d3.ease = function (t) { var n = t.indexOf("-"), e = n >= 0 ? t.substring(0, n) : t, r = n >= 0 ? t.substring(n + 1) : "in"; return e = fr.get(e) || lr, v((r = sr.get(r) || x)(e.apply(null, Array.prototype.slice.call(arguments, 1)))) }, d3.event = null, d3.transform = function (t) { var n = document.createElementNS(d3.ns.prefix.svg, "g"); return (d3.transform = function (t) { n.setAttribute("transform", t); var e = n.transform.baseVal.consolidate(); return new C(e ? e.matrix : dr) })(t) }, C.prototype.toString = function () { return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")" }; var hr = 180 / Math.PI, dr = { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0 }; d3.interpolate = function (t, n) { for (var e, r = d3.interpolators.length; --r >= 0 && !(e = d3.interpolators[r](t, n));); return e }, d3.interpolateNumber = function (t, n) { return n -= t, function (e) { return t + n * e } }, d3.interpolateRound = function (t, n) { return n -= t, function (e) { return Math.round(t + n * e) } }, d3.interpolateString = function (t, n) { var e, r, i, u, o, a = 0, c = [], l = []; for (gr.lastIndex = 0, r = 0; e = gr.exec(n); ++r)e.index && c.push(n.substring(a, e.index)), l.push({ i: c.length, x: e[0] }), c.push(null), a = gr.lastIndex; for (a < n.length && c.push(n.substring(a)), r = 0, u = l.length; (e = gr.exec(t)) && r < u; ++r)if ((o = l[r]).x == e[0]) { if (o.i) if (null == c[o.i + 1]) for (c[o.i - 1] += o.x, c.splice(o.i, 1), i = r + 1; i < u; ++i)l[i].i--; else for (c[o.i - 1] += o.x + c[o.i + 1], c.splice(o.i, 2), i = r + 1; i < u; ++i)l[i].i -= 2; else if (null == c[o.i + 1]) c[o.i] = o.x; else for (c[o.i] = o.x + c[o.i + 1], c.splice(o.i + 1, 1), i = r + 1; i < u; ++i)l[i].i--; l.splice(r, 1), u--, r-- } else o.x = d3.interpolateNumber(parseFloat(e[0]), parseFloat(o.x)); for (; r < u;)o = l.pop(), null == c[o.i + 1] ? c[o.i] = o.x : (c[o.i] = o.x + c[o.i + 1], c.splice(o.i + 1, 1)), u--; return 1 === c.length ? null == c[0] ? l[0].x : function () { return n } : function (t) { for (r = 0; r < u; ++r)c[(o = l[r]).i] = o.x(t); return c.join("") } }, d3.interpolateTransform = function (t, n) { var e, r = [], i = [], u = d3.transform(t), o = d3.transform(n), a = u.translate, c = o.translate, l = u.rotate, f = o.rotate, s = u.skew, h = o.skew, d = u.scale, g = o.scale; return a[0] != c[0] || a[1] != c[1] ? (r.push("translate(", null, ",", null, ")"), i.push({ i: 1, x: d3.interpolateNumber(a[0], c[0]) }, { i: 3, x: d3.interpolateNumber(a[1], c[1]) })) : c[0] || c[1] ? r.push("translate(" + c + ")") : r.push(""), l != f ? (l - f > 180 ? f += 360 : f - l > 180 && (l += 360), i.push({ i: r.push(r.pop() + "rotate(", null, ")") - 2, x: d3.interpolateNumber(l, f) })) : f && r.push(r.pop() + "rotate(" + f + ")"), s != h ? i.push({ i: r.push(r.pop() + "skewX(", null, ")") - 2, x: d3.interpolateNumber(s, h) }) : h && r.push(r.pop() + "skewX(" + h + ")"), d[0] != g[0] || d[1] != g[1] ? (e = r.push(r.pop() + "scale(", null, ",", null, ")"), i.push({ i: e - 4, x: d3.interpolateNumber(d[0], g[0]) }, { i: e - 2, x: d3.interpolateNumber(d[1], g[1]) })) : 1 == g[0] && 1 == g[1] || r.push(r.pop() + "scale(" + g + ")"), e = i.length, function (t) { for (var n, u = -1; ++u < e;)r[(n = i[u]).i] = n.x(t); return r.join("") } }, d3.interpolateRgb = function (t, n) { t = d3.rgb(t), n = d3.rgb(n); var e = t.r, r = t.g, i = t.b, u = n.r - e, o = n.g - r, a = n.b - i; return function (t) { return "#" + I(Math.round(e + u * t)) + I(Math.round(r + o * t)) + I(Math.round(i + a * t)) } }, d3.interpolateHsl = function (t, n) { t = d3.hsl(t), n = d3.hsl(n); var e = t.h, r = t.s, i = t.l, u = n.h - e, o = n.s - r, a = n.l - i; return u > 180 ? u -= 360 : u < -180 && (u += 360), function (t) { return Z(e + u * t, r + o * t, i + a * t) + "" } }, d3.interpolateLab = function (t, n) { t = d3.lab(t), n = d3.lab(n); var e = t.l, r = t.a, i = t.b, u = n.l - e, o = n.a - r, a = n.b - i; return function (t) { return J(e + u * t, r + o * t, i + a * t) + "" } }, d3.interpolateHcl = function (t, n) { t = d3.hcl(t), n = d3.hcl(n); var e = t.h, r = t.c, i = t.l, u = n.h - e, o = n.c - r, a = n.l - i; return u > 180 ? u -= 360 : u < -180 && (u += 360), function (t) { return $(e + u * t, r + o * t, i + a * t) + "" } }, d3.interpolateArray = function (t, n) { var e, r = [], i = [], u = t.length, o = n.length, a = Math.min(t.length, n.length); for (e = 0; e < a; ++e)r.push(d3.interpolate(t[e], n[e])); for (; e < u; ++e)i[e] = t[e]; for (; e < o; ++e)i[e] = n[e]; return function (t) { for (e = 0; e < a; ++e)i[e] = r[e](t); return i } }, d3.interpolateObject = function (t, n) { var e, r = {}, i = {}; for (e in t) e in n ? r[e] = z(e)(t[e], n[e]) : i[e] = t[e]; for (e in n) e in t || (i[e] = n[e]); return function (t) { for (e in r) i[e] = r[e](t); return i } }; var gr = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g; d3.interpolators = [d3.interpolateObject, function (t, n) { return n instanceof Array && d3.interpolateArray(t, n) }, function (t, n) { return ("string" == typeof t || "string" == typeof n) && d3.interpolateString(t + "", n + "") }, function (t, n) { return ("string" == typeof n ? vr.has(n) || /^(#|rgb\(|hsl\()/.test(n) : n instanceof P) && d3.interpolateRgb(t, n) }, function (t, n) { return !isNaN(t = +t) && !isNaN(n = +n) && d3.interpolateNumber(t, n) }], P.prototype.toString = function () { return this.rgb() + "" }, d3.rgb = function (t, n, e) { return 1 === arguments.length ? t instanceof F ? L(t.r, t.g, t.b) : H("" + t, L, Z) : L(~~t, ~~n, ~~e) }; var pr = F.prototype = new P; pr.brighter = function (t) { t = Math.pow(.7, arguments.length ? t : 1); var n = this.r, e = this.g, r = this.b, i = 30; return n || e || r ? (n && n < i && (n = i), e && e < i && (e = i), r && r < i && (r = i), L(Math.min(255, Math.floor(n / t)), Math.min(255, Math.floor(e / t)), Math.min(255, Math.floor(r / t)))) : L(i, i, i) }, pr.darker = function (t) { return t = Math.pow(.7, arguments.length ? t : 1), L(Math.floor(t * this.r), Math.floor(t * this.g), Math.floor(t * this.b)) }, pr.hsl = function () { return O(this.r, this.g, this.b) }, pr.toString = function () { return "#" + I(this.r) + I(this.g) + I(this.b) }; var vr = d3.map({ aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", indianred: "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgray: "#d3d3d3", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370db", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#db7093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", slategrey: "#708090", snow: "#fffafa", springgreen: "#00ff7f", steelblue: "#4682b4", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", tomato: "#ff6347", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" }); vr.forEach((function (t, n) { vr.set(t, H(n, L, Z)) })), d3.hsl = function (t, n, e) { return 1 === arguments.length ? t instanceof V ? U(t.h, t.s, t.l) : H("" + t, O, U) : U(+t, +n, +e) }; var mr = V.prototype = new P; mr.brighter = function (t) { return t = Math.pow(.7, arguments.length ? t : 1), U(this.h, this.s, this.l / t) }, mr.darker = function (t) { return t = Math.pow(.7, arguments.length ? t : 1), U(this.h, this.s, t * this.l) }, mr.rgb = function () { return Z(this.h, this.s, this.l) }, d3.hcl = function (t, n, e) { return 1 === arguments.length ? t instanceof X ? B(t.h, t.c, t.l) : Q(t instanceof K ? t.l : (t = R((t = d3.rgb(t)).r, t.g, t.b)).l, t.a, t.b) : B(+t, +n, +e) }; var yr = X.prototype = new P; yr.brighter = function (t) { return B(this.h, this.c, Math.min(100, this.l + xr * (arguments.length ? t : 1))) }, yr.darker = function (t) { return B(this.h, this.c, Math.max(0, this.l - xr * (arguments.length ? t : 1))) }, yr.rgb = function () { return $(this.h, this.c, this.l).rgb() }, d3.lab = function (t, n, e) { return 1 === arguments.length ? t instanceof K ? G(t.l, t.a, t.b) : t instanceof X ? $(t.l, t.c, t.h) : R((t = d3.rgb(t)).r, t.g, t.b) : G(+t, +n, +e) }; var xr = 18, br = .95047, Mr = 1, _r = 1.08883, wr = K.prototype = new P; wr.brighter = function (t) { return G(Math.min(100, this.l + xr * (arguments.length ? t : 1)), this.a, this.b) }, wr.darker = function (t) { return G(Math.max(0, this.l - xr * (arguments.length ? t : 1)), this.a, this.b) }, wr.rgb = function () { return J(this.l, this.a, this.b) }; var kr = function (t, n) { return n.querySelector(t) }, Nr = function (t, n) { return n.querySelectorAll(t) }, Ar = document.documentElement, Sr = Ar.matchesSelector || Ar.webkitMatchesSelector || Ar.mozMatchesSelector || Ar.msMatchesSelector || Ar.oMatchesSelector, Cr = function (t, n) { return Sr.call(t, n) }; "function" == typeof Sizzle && (kr = function (t, n) { return Sizzle(t, n)[0] || null }, Nr = function (t, n) { return Sizzle.uniqueSort(Sizzle(t, n)) }, Cr = Sizzle.matchesSelector); var Tr = []; d3.selection = function () { return qr }, d3.selection.prototype = Tr, Tr.select = function (t) { var n, e, r, i, u = []; "function" != typeof t && (t = rt(t)); for (var o = -1, a = this.length; ++o < a;) { u.push(n = []), n.parentNode = (r = this[o]).parentNode; for (var c = -1, l = r.length; ++c < l;)(i = r[c]) ? (n.push(e = t.call(i, i.__data__, c)), e && "__data__" in i && (e.__data__ = i.__data__)) : n.push(null) } return et(u) }, Tr.selectAll = function (t) { var n, e, r = []; "function" != typeof t && (t = it(t)); for (var i = -1, u = this.length; ++i < u;)for (var o = this[i], a = -1, c = o.length; ++a < c;)(e = o[a]) && (r.push(n = Je(t.call(e, e.__data__, a))), n.parentNode = e); return et(r) }, Tr.attr = function (t, n) { if (arguments.length < 2) { if ("string" == typeof t) { var e = this.node(); return (t = d3.ns.qualify(t)).local ? e.getAttributeNS(t.space, t.local) : e.getAttribute(t) } for (n in t) this.each(ut(n, t[n])); return this } return this.each(ut(t, n)) }, Tr.classed = function (t, n) { if (arguments.length < 2) { if ("string" == typeof t) { var e = this.node(), r = (t = t.trim().split(/^|\s+/g)).length, i = -1; if (n = e.classList) { for (; ++i < r;)if (!n.contains(t[i])) return !1 } else for (null != (n = e.className).baseVal && (n = n.baseVal); ++i < r;)if (!ot(t[i]).test(n)) return !1; return !0 } for (n in t) this.each(at(n, t[n])); return this } return this.each(at(t, n)) }, Tr.style = function (t, n, e) { var r = arguments.length; if (r < 3) { if ("string" != typeof t) { for (e in r < 2 && (n = ""), t) this.each(lt(e, t[e], n)); return this } if (r < 2) return window.getComputedStyle(this.node(), null).getPropertyValue(t); e = "" } return this.each(lt(t, n, e)) }, Tr.property = function (t, n) { if (arguments.length < 2) { if ("string" == typeof t) return this.node()[t]; for (n in t) this.each(ft(n, t[n])); return this } return this.each(ft(t, n)) }, Tr.text = function (t) { return arguments.length < 1 ? this.node().textContent : this.each("function" == typeof t ? function () { var n = t.apply(this, arguments); this.textContent = null == n ? "" : n } : null == t ? function () { this.textContent = "" } : function () { this.textContent = t }) }, Tr.html = function (t) { return arguments.length < 1 ? this.node().innerHTML : this.each("function" == typeof t ? function () { var n = t.apply(this, arguments); this.innerHTML = null == n ? "" : n } : null == t ? function () { this.innerHTML = "" } : function () { this.innerHTML = t }) }, Tr.append = function (t) { return t = d3.ns.qualify(t), this.select(t.local ? function () { return this.appendChild(document.createElementNS(t.space, t.local)) } : function () { return this.appendChild(document.createElementNS(this.namespaceURI, t)) }) }, Tr.insert = function (t, n) { return t = d3.ns.qualify(t), this.select(t.local ? function () { return this.insertBefore(document.createElementNS(t.space, t.local), kr(n, this)) } : function () { return this.insertBefore(document.createElementNS(this.namespaceURI, t), kr(n, this)) }) }, Tr.remove = function () { return this.each((function () { var t = this.parentNode; t && t.removeChild(this) })) }, Tr.data = function (n, e) { function r(n, r) { var i, u, o, a = n.length, s = r.length, h = Math.min(a, s), d = Math.max(a, s), g = [], p = [], v = []; if (e) { var m, y = new t, x = [], b = r.length; for (i = -1; ++i < a;)m = e.call(u = n[i], u.__data__, i), y.has(m) ? v[b++] = u : y.set(m, u), x.push(m); for (i = -1; ++i < s;)m = e.call(r, o = r[i], i), y.has(m) ? (g[i] = u = y.get(m), u.__data__ = o, p[i] = v[i] = null) : (p[i] = st(o), g[i] = v[i] = null), y.remove(m); for (i = -1; ++i < a;)y.has(x[i]) && (v[i] = n[i]) } else { for (i = -1; ++i < h;)u = n[i], o = r[i], u ? (u.__data__ = o, g[i] = u, p[i] = v[i] = null) : (p[i] = st(o), g[i] = v[i] = null); for (; i < s; ++i)p[i] = st(r[i]), g[i] = v[i] = null; for (; i < d; ++i)v[i] = n[i], p[i] = g[i] = null } p.update = g, p.parentNode = g.parentNode = v.parentNode = n.parentNode, c.push(p), l.push(g), f.push(v) } var i, u, o = -1, a = this.length; if (!arguments.length) { for (n = new Array(a = (i = this[0]).length); ++o < a;)(u = i[o]) && (n[o] = u.__data__); return n } var c = vt([]), l = et([]), f = et([]); if ("function" == typeof n) for (; ++o < a;)r(i = this[o], n.call(i, i.parentNode.__data__, o)); else for (; ++o < a;)r(i = this[o], n); return l.enter = function () { return c }, l.exit = function () { return f }, l }, Tr.datum = Tr.map = function (t) { return arguments.length < 1 ? this.property("__data__") : this.property("__data__", t) }, Tr.filter = function (t) { var n, e, r, i = []; "function" != typeof t && (t = ht(t)); for (var u = 0, o = this.length; u < o; u++) { i.push(n = []), n.parentNode = (e = this[u]).parentNode; for (var a = 0, c = e.length; a < c; a++)(r = e[a]) && t.call(r, r.__data__, a) && n.push(r) } return et(i) }, Tr.order = function () { for (var t = -1, n = this.length; ++t < n;)for (var e, r = this[t], i = r.length - 1, u = r[i]; --i >= 0;)(e = r[i]) && (u && u !== e.nextSibling && u.parentNode.insertBefore(e, u), u = e); return this }, Tr.sort = function (t) { t = dt.apply(this, arguments); for (var n = -1, e = this.length; ++n < e;)this[n].sort(t); return this.order() }, Tr.on = function (t, n, e) { var r = arguments.length; if (r < 3) { if ("string" != typeof t) { for (e in r < 2 && (n = !1), t) this.each(gt(e, t[e], n)); return this } if (r < 2) return (r = this.node()["__on" + t]) && r._; e = !1 } return this.each(gt(t, n, e)) }, Tr.each = function (t) { return pt(this, (function (n, e, r) { t.call(n, n.__data__, e, r) })) }, Tr.call = function (t) { return t.apply(this, (arguments[0] = this, arguments)), this }, Tr.empty = function () { return !this.node() }, Tr.node = function (t) { for (var n = 0, e = this.length; n < e; n++)for (var r = this[n], i = 0, u = r.length; i < u; i++) { var o = r[i]; if (o) return o } return null }, Tr.transition = function () { for (var t, n, e = [], r = -1, i = this.length; ++r < i;) { e.push(t = []); for (var u = this[r], o = -1, a = u.length; ++o < a;)t.push((n = u[o]) ? { node: n, delay: Fr, duration: Ir } : null) } return mt(e, Pr || ++Dr, Date.now()) }; var qr = et([[document]]); qr[0].parentNode = Ar, d3.select = function (t) { return "string" == typeof t ? qr.select(t) : et([[t]]) }, d3.selectAll = function (t) { return "string" == typeof t ? qr.selectAll(t) : et([Je(t)]) }; var zr = []; d3.selection.enter = vt, d3.selection.enter.prototype = zr, zr.append = Tr.append, zr.insert = Tr.insert, zr.empty = Tr.empty, zr.node = Tr.node, zr.select = function (t) { for (var n, e, r, i, u, o = [], a = -1, c = this.length; ++a < c;) { r = (i = this[a]).update, o.push(n = []), n.parentNode = i.parentNode; for (var l = -1, f = i.length; ++l < f;)(u = i[l]) ? (n.push(r[l] = e = t.call(i.parentNode, u.__data__, l)), e.__data__ = u.__data__) : n.push(null) } return et(o) }; var Er = [], Dr = 0, Pr = 0, Lr = d3.ease("cubic-in-out"), Fr = 0, Ir = 250, Hr = Lr; Er.call = Tr.call, d3.transition = function (t) { return arguments.length ? Pr ? t.transition() : t : qr.transition() }, d3.transition.prototype = Er, Er.select = function (t) { var n, e, r, i = []; "function" != typeof t && (t = rt(t)); for (var u = -1, o = this.length; ++u < o;) { i.push(n = []); for (var a = this[u], c = -1, l = a.length; ++c < l;)(r = a[c]) && (e = t.call(r.node, r.node.__data__, c)) ? ("__data__" in r.node && (e.__data__ = r.node.__data__), n.push({ node: e, delay: r.delay, duration: r.duration })) : n.push(null) } return mt(i, this.id, this.time).ease(this.ease()) }, Er.selectAll = function (t) { var n, e, r, i = []; "function" != typeof t && (t = it(t)); for (var u = -1, o = this.length; ++u < o;)for (var a = this[u], c = -1, l = a.length; ++c < l;)if (r = a[c]) { e = t.call(r.node, r.node.__data__, c), i.push(n = []); for (var f = -1, s = e.length; ++f < s;)n.push({ node: e[f], delay: r.delay, duration: r.duration }) } return mt(i, this.id, this.time).ease(this.ease()) }, Er.filter = function (t) { var n, e, r = []; "function" != typeof t && (t = ht(t)); for (var i = 0, u = this.length; i < u; i++) { r.push(n = []); for (var o, a = 0, c = (o = this[i]).length; a < c; a++)(e = o[a]) && t.call(e.node, e.node.__data__, a) && n.push(e) } return mt(r, this.id, this.time).ease(this.ease()) }, Er.attr = function (t, n) { if (arguments.length < 2) { for (n in t) this.attrTween(n, bt(t[n], n)); return this } return this.attrTween(t, bt(n, t)) }, Er.attrTween = function (t, n) { var e = d3.ns.qualify(t); return this.tween("attr." + t, e.local ? function (t, r) { var i = n.call(this, t, r, this.getAttributeNS(e.space, e.local)); return i === jr ? (this.removeAttributeNS(e.space, e.local), null) : i && function (t) { this.setAttributeNS(e.space, e.local, i(t)) } } : function (t, r) { var i = n.call(this, t, r, this.getAttribute(e)); return i === jr ? (this.removeAttribute(e), null) : i && function (t) { this.setAttribute(e, i(t)) } }) }, Er.style = function (t, n, e) { var r = arguments.length; if (r < 3) { if ("string" != typeof t) { for (e in r < 2 && (n = ""), t) this.styleTween(e, bt(t[e], e), n); return this } e = "" } return this.styleTween(t, bt(n, t), e) }, Er.styleTween = function (t, n, e) { return arguments.length < 3 && (e = ""), this.tween("style." + t, (function (r, i) { var u = n.call(this, r, i, window.getComputedStyle(this, null).getPropertyValue(t)); return u === jr ? (this.style.removeProperty(t), null) : u && function (n) { this.style.setProperty(t, u(n), e) } })) }, Er.text = function (t) { return this.tween("text", (function (n, e) { this.textContent = "function" == typeof t ? t.call(this, n, e) : t })) }, Er.remove = function () { return this.each("end.transition", (function () { var t; !this.__transition__ && (t = this.parentNode) && t.removeChild(this) })) }, Er.delay = function (t) { return pt(this, "function" == typeof t ? function (n, e, r) { n.delay = 0 | t.call(n = n.node, n.__data__, e, r) } : (t |= 0, function (n) { n.delay = t })) }, Er.duration = function (t) { return pt(this, "function" == typeof t ? function (n, e, r) { n.duration = Math.max(1, 0 | t.call(n = n.node, n.__data__, e, r)) } : (t = Math.max(1, 0 | t), function (n) { n.duration = t })) }, Er.transition = function () { return this.select(e) }, d3.tween = function (t, n) { return "function" == typeof t ? function (e, r, i) { var u = t.call(this, e, r); return null == u ? "" != i && jr : i != u && n(i, u + "") } : null == t ? xt : (t += "", function (e, r, i) { return i != t && n(i, t) }) }; var Or, Rr, jr = {}, Yr = 0, Ur = {}, Vr = null; d3.timer = function (t, n, e) { if (arguments.length < 3) { if (arguments.length < 2) n = 0; else if (!isFinite(n)) return; e = Date.now() } var r = Ur[t.id]; r && r.callback === t ? (r.then = e, r.delay = n) : Ur[t.id = ++Yr] = Vr = { callback: t, then: e, delay: n, next: Vr }, Or || (Rr = clearTimeout(Rr), Or = 1, Zr(Mt)) }, d3.timer.flush = function () { for (var t, n = Date.now(), e = Vr; e;)t = n - e.then, e.delay || (e.flush = e.callback(t)), e = e.next; _t() }; var Zr = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { setTimeout(t, 17) }; d3.mouse = function (t) { return wt(t, A()) }; var Br = /WebKit/.test(navigator.userAgent) ? -1 : 0; d3.touches = function (t, n) { return arguments.length < 2 && (n = A().touches), n ? Je(n).map((function (n) { var e = wt(t, n); return e.identifier = n.identifier, e })) : [] }, d3.scale = {}, d3.scale.linear = function () { return Ct([0, 1], [0, 1], d3.interpolate, !1) }, d3.scale.log = function () { return Ft(d3.scale.linear(), It) }; var Xr = d3.format(".0e"); It.pow = function (t) { return Math.pow(10, t) }, Ht.pow = function (t) { return -Math.pow(10, -t) }, d3.scale.pow = function () { return Ot(d3.scale.linear(), 1) }, d3.scale.sqrt = function () { return d3.scale.pow().exponent(.5) }, d3.scale.ordinal = function () { return jt([], { t: "range", a: [[]] }) }, d3.scale.category10 = function () { return d3.scale.ordinal().range($r) }, d3.scale.category20 = function () { return d3.scale.ordinal().range(Gr) }, d3.scale.category20b = function () { return d3.scale.ordinal().range(Kr) }, d3.scale.category20c = function () { return d3.scale.ordinal().range(Jr) }; var $r = ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf"], Gr = ["#1f77b4", "#aec7e8", "#ff7f0e", "#ffbb78", "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b", "#c49c94", "#e377c2", "#f7b6d2", "#7f7f7f", "#c7c7c7", "#bcbd22", "#dbdb8d", "#17becf", "#9edae5"], Kr = ["#393b79", "#5254a3", "#6b6ecf", "#9c9ede", "#637939", "#8ca252", "#b5cf6b", "#cedb9c", "#8c6d31", "#bd9e39", "#e7ba52", "#e7cb94", "#843c39", "#ad494a", "#d6616b", "#e7969c", "#7b4173", "#a55194", "#ce6dbd", "#de9ed6"], Jr = ["#3182bd", "#6baed6", "#9ecae1", "#c6dbef", "#e6550d", "#fd8d3c", "#fdae6b", "#fdd0a2", "#31a354", "#74c476", "#a1d99b", "#c7e9c0", "#756bb1", "#9e9ac8", "#bcbddc", "#dadaeb", "#636363", "#969696", "#bdbdbd", "#d9d9d9"]; d3.scale.quantile = function () { return Yt([], []) }, d3.scale.quantize = function () { return Ut(0, 1, [0, 1]) }, d3.scale.threshold = function () { return Vt([.5], [0, 1]) }, d3.scale.identity = function () { return Zt([0, 1]) }, d3.svg = {}, d3.svg.arc = function () { function t() { var t = n.apply(this, arguments), i = e.apply(this, arguments), o = r.apply(this, arguments) + Qr, a = u.apply(this, arguments) + Qr, c = (a < o && (c = o, o = a, a = c), a - o), l = c < Math.PI ? "0" : "1", f = Math.cos(o), s = Math.sin(o), h = Math.cos(a), d = Math.sin(a); return c >= Wr ? t ? "M0," + i + "A" + i + "," + i + " 0 1,1 0," + -i + "A" + i + "," + i + " 0 1,1 0," + i + "M0," + t + "A" + t + "," + t + " 0 1,0 0," + -t + "A" + t + "," + t + " 0 1,0 0," + t + "Z" : "M0," + i + "A" + i + "," + i + " 0 1,1 0," + -i + "A" + i + "," + i + " 0 1,1 0," + i + "Z" : t ? "M" + i * f + "," + i * s + "A" + i + "," + i + " 0 " + l + ",1 " + i * h + "," + i * d + "L" + t * h + "," + t * d + "A" + t + "," + t + " 0 " + l + ",0 " + t * f + "," + t * s + "Z" : "M" + i * f + "," + i * s + "A" + i + "," + i + " 0 " + l + ",1 " + i * h + "," + i * d + "L0,0Z" } var n = Bt, e = Xt, r = $t, u = Gt; return t.innerRadius = function (e) { return arguments.length ? (n = i(e), t) : n }, t.outerRadius = function (n) { return arguments.length ? (e = i(n), t) : e }, t.startAngle = function (n) { return arguments.length ? (r = i(n), t) : r }, t.endAngle = function (n) { return arguments.length ? (u = i(n), t) : u }, t.centroid = function () { var t = (n.apply(this, arguments) + e.apply(this, arguments)) / 2, i = (r.apply(this, arguments) + u.apply(this, arguments)) / 2 + Qr; return [Math.cos(i) * t, Math.sin(i) * t] }, t }; var Qr = -Math.PI / 2, Wr = 2 * Math.PI - 1e-6; d3.svg.line = function () { return Kt(n) }; var ti = d3.map({ linear: Wt, "linear-closed": function (t) { return Wt(t) + "Z" }, "step-before": tn, "step-after": nn, basis: un, "basis-open": function (t) { if (t.length < 4) return Wt(t); for (var n, e = [], r = -1, i = t.length, u = [0], o = [0]; ++r < 3;)n = t[r], u.push(n[0]), o.push(n[1]); for (e.push(on(ri, u) + "," + on(ri, o)), --r; ++r < i;)n = t[r], u.shift(), u.push(n[0]), o.shift(), o.push(n[1]), an(e, u, o); return e.join("") }, "basis-closed": function (t) { for (var n, e, r = -1, i = t.length, u = i + 4, o = [], a = []; ++r < 4;)e = t[r % i], o.push(e[0]), a.push(e[1]); for (n = [on(ri, o), ",", on(ri, a)], --r; ++r < u;)e = t[r % i], o.shift(), o.push(e[0]), a.shift(), a.push(e[1]), an(n, o, a); return n.join("") }, bundle: function (t, n) { var e = t.length - 1; if (e) for (var r, i, u = t[0][0], o = t[0][1], a = t[e][0] - u, c = t[e][1] - o, l = -1; ++l <= e;)i = l / e, (r = t[l])[0] = n * r[0] + (1 - n) * (u + i * a), r[1] = n * r[1] + (1 - n) * (o + i * c); return un(t) }, cardinal: function (t, n, e) { return t.length < 3 ? Wt(t) : t[0] + en(t, rn(t, n)) }, "cardinal-open": function (t, n) { return t.length < 4 ? Wt(t) : t[1] + en(t.slice(1, t.length - 1), rn(t, n)) }, "cardinal-closed": function (t, n) { return t.length < 3 ? Wt(t) : t[0] + en((t.push(t[0]), t), rn([t[t.length - 2]].concat(t, [t[1]]), n)) }, monotone: function (t) { return t.length < 3 ? Wt(t) : t[0] + en(t, ln(t)) } }); ti.forEach((function (t, n) { n.key = t, n.closed = /-closed$/.test(t) })); var ni = [0, 2 / 3, 1 / 3, 0], ei = [0, 1 / 3, 2 / 3, 0], ri = [0, 1 / 6, 2 / 3, 1 / 6]; d3.svg.line.radial = function () { var t = Kt(fn); return t.radius = t.x, delete t.x, t.angle = t.y, delete t.y, t }, tn.reverse = nn, nn.reverse = tn, d3.svg.area = function () { return sn(n) }, d3.svg.area.radial = function () { var t = sn(fn); return t.radius = t.x, delete t.x, t.innerRadius = t.x0, delete t.x0, t.outerRadius = t.x1, delete t.x1, t.angle = t.y, delete t.y, t.startAngle = t.y0, delete t.y0, t.endAngle = t.y1, delete t.y1, t }, d3.svg.chord = function () { function t(t, i) { var a, c, l = n(this, u, t, i), f = n(this, o, t, i); return "M" + l.p0 + e(l.r, l.p1, l.a1 - l.a0) + (c = f, ((a = l).a0 == c.a0 && a.a1 == c.a1 ? r(l.r, l.p1, l.r, l.p0) : r(l.r, l.p1, f.r, f.p0) + e(f.r, f.p1, f.a1 - f.a0) + r(f.r, f.p1, l.r, l.p0)) + "Z") } function n(t, n, e, r) { var i = n.call(t, e, r), u = a.call(t, i, r), o = c.call(t, i, r) + Qr, f = l.call(t, i, r) + Qr; return { r: u, a0: o, a1: f, p0: [u * Math.cos(o), u * Math.sin(o)], p1: [u * Math.cos(f), u * Math.sin(f)] } } function e(t, n, e) { return "A" + t + "," + t + " 0 " + +(e > Math.PI) + ",1 " + n } function r(t, n, e, r) { return "Q 0,0 " + r } var u = hn, o = dn, a = gn, c = $t, l = Gt; return t.radius = function (n) { return arguments.length ? (a = i(n), t) : a }, t.source = function (n) { return arguments.length ? (u = i(n), t) : u }, t.target = function (n) { return arguments.length ? (o = i(n), t) : o }, t.startAngle = function (n) { return arguments.length ? (c = i(n), t) : c }, t.endAngle = function (n) { return arguments.length ? (l = i(n), t) : l }, t }, d3.svg.diagonal = function () { function t(t, i) { var u = n.call(this, t, i), o = e.call(this, t, i), a = (u.y + o.y) / 2, c = [u, { x: u.x, y: a }, { x: o.x, y: a }, o]; return "M" + (c = c.map(r))[0] + "C" + c[1] + " " + c[2] + " " + c[3] } var n = hn, e = dn, r = pn; return t.source = function (e) { return arguments.length ? (n = i(e), t) : n }, t.target = function (n) { return arguments.length ? (e = i(n), t) : e }, t.projection = function (n) { return arguments.length ? (r = n, t) : r }, t }, d3.svg.diagonal.radial = function () { var t = d3.svg.diagonal(), n = pn, e = t.projection; return t.projection = function (t) { return arguments.length ? e(vn(n = t)) : n }, t }, d3.svg.mouse = d3.mouse, d3.svg.touches = d3.touches, d3.svg.symbol = function () { function t(t, r) { return (ii.get(n.call(this, t, r)) || xn)(e.call(this, t, r)) } var n = yn, e = mn; return t.type = function (e) { return arguments.length ? (n = i(e), t) : n }, t.size = function (n) { return arguments.length ? (e = i(n), t) : e }, t }; var ii = d3.map({ circle: xn, cross: function (t) { var n = Math.sqrt(t / 5) / 2; return "M" + -3 * n + "," + -n + "H" + -n + "V" + -3 * n + "H" + n + "V" + -n + "H" + 3 * n + "V" + n + "H" + n + "V" + 3 * n + "H" + -n + "V" + n + "H" + -3 * n + "Z" }, diamond: function (t) { var n = Math.sqrt(t / (2 * oi)), e = n * oi; return "M0," + -n + "L" + e + ",0 0," + n + " " + -e + ",0Z" }, square: function (t) { var n = Math.sqrt(t) / 2; return "M" + -n + "," + -n + "L" + n + "," + -n + " " + n + "," + n + " " + -n + "," + n + "Z" }, "triangle-down": function (t) { var n = Math.sqrt(t / ui), e = n * ui / 2; return "M0," + e + "L" + n + "," + -e + " " + -n + "," + -e + "Z" }, "triangle-up": function (t) { var n = Math.sqrt(t / ui), e = n * ui / 2; return "M0," + -e + "L" + n + "," + e + " " + -n + "," + e + "Z" } }); d3.svg.symbolTypes = ii.keys(); var ui = Math.sqrt(3), oi = Math.tan(30 * Math.PI / 180); d3.svg.axis = function () { function t(t) { t.each((function () { var t, s = d3.select(this), h = null == l ? e.ticks ? e.ticks.apply(e, c) : e.domain() : l, d = null == n ? e.tickFormat ? e.tickFormat.apply(e, c) : String : n, g = function (t, n, e) { if (r = [], e && n.length > 1) { for (var r, i, u, o = kt(t.domain()), a = -1, c = n.length, l = (n[1] - n[0]) / ++e; ++a < c;)for (i = e; --i > 0;)(u = +n[a] - i * l) >= o[0] && r.push(u); for (--a, i = 0; ++i < e && (u = +n[a] + i * l) < o[1];)r.push(u) } return r }(e, h, f), p = s.selectAll(".minor").data(g, String), v = p.enter().insert("line", "g").attr("class", "tick minor").style("opacity", 1e-6), m = d3.transition(p.exit()).style("opacity", 1e-6).remove(), y = d3.transition(p).style("opacity", 1), x = s.selectAll("g").data(h, String), b = x.enter().insert("g", "path").style("opacity", 1e-6), M = d3.transition(x.exit()).style("opacity", 1e-6).remove(), _ = d3.transition(x).style("opacity", 1), w = Nt(e), k = s.selectAll(".domain").data([0]), N = (k.enter().append("path").attr("class", "domain"), d3.transition(k)), A = e.copy(), S = this.__chart__ || A; this.__chart__ = A, b.append("line").attr("class", "tick"), b.append("text"); var C = b.select("line"), T = _.select("line"), q = x.select("text").text(d), z = b.select("text"), E = _.select("text"); switch (r) { case "bottom": t = bn, v.attr("y2", u), y.attr("x2", 0).attr("y2", u), C.attr("y2", i), z.attr("y", Math.max(i, 0) + a), T.attr("x2", 0).attr("y2", i), E.attr("x", 0).attr("y", Math.max(i, 0) + a), q.attr("dy", ".71em").attr("text-anchor", "middle"), N.attr("d", "M" + w[0] + "," + o + "V0H" + w[1] + "V" + o); break; case "top": t = bn, v.attr("y2", -u), y.attr("x2", 0).attr("y2", -u), C.attr("y2", -i), z.attr("y", -(Math.max(i, 0) + a)), T.attr("x2", 0).attr("y2", -i), E.attr("x", 0).attr("y", -(Math.max(i, 0) + a)), q.attr("dy", "0em").attr("text-anchor", "middle"), N.attr("d", "M" + w[0] + "," + -o + "V0H" + w[1] + "V" + -o); break; case "left": t = Mn, v.attr("x2", -u), y.attr("x2", -u).attr("y2", 0), C.attr("x2", -i), z.attr("x", -(Math.max(i, 0) + a)), T.attr("x2", -i).attr("y2", 0), E.attr("x", -(Math.max(i, 0) + a)).attr("y", 0), q.attr("dy", ".32em").attr("text-anchor", "end"), N.attr("d", "M" + -o + "," + w[0] + "H0V" + w[1] + "H" + -o); break; case "right": t = Mn, v.attr("x2", u), y.attr("x2", u).attr("y2", 0), C.attr("x2", i), z.attr("x", Math.max(i, 0) + a), T.attr("x2", i).attr("y2", 0), E.attr("x", Math.max(i, 0) + a).attr("y", 0), q.attr("dy", ".32em").attr("text-anchor", "start"), N.attr("d", "M" + o + "," + w[0] + "H0V" + w[1] + "H" + o); break }if (e.ticks) b.call(t, S), _.call(t, A), M.call(t, A), v.call(t, S), y.call(t, A), m.call(t, A); else { var D = A.rangeBand() / 2, P = function (t) { return A(t) + D }; b.call(t, P), _.call(t, P) } })) } var n, e = d3.scale.linear(), r = "bottom", i = 6, u = 6, o = 6, a = 3, c = [10], l = null, f = 0; return t.scale = function (n) { return arguments.length ? (e = n, t) : e }, t.orient = function (n) { return arguments.length ? (r = n, t) : r }, t.ticks = function () { return arguments.length ? (c = arguments, t) : c }, t.tickValues = function (n) { return arguments.length ? (l = n, t) : l }, t.tickFormat = function (e) { return arguments.length ? (n = e, t) : n }, t.tickSize = function (n, e, r) { if (!arguments.length) return i; var a = arguments.length - 1; return i = +n, u = a > 1 ? +e : i, o = a > 0 ? +arguments[a] : i, t }, t.tickPadding = function (n) { return arguments.length ? (a = +n, t) : a }, t.tickSubdivide = function (n) { return arguments.length ? (f = +n, t) : f }, t }, d3.svg.brush = function () { function t(u) { u.each((function () { var u, o = d3.select(this), f = o.selectAll(".background").data([0]), s = o.selectAll(".extent").data([0]), h = o.selectAll(".resize").data(l, String); o.style("pointer-events", "all").on("mousedown.brush", i).on("touchstart.brush", i), f.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), s.enter().append("rect").attr("class", "extent").style("cursor", "move"), h.enter().append("g").attr("class", (function (t) { return "resize " + t })).style("cursor", (function (t) { return ai[t] })).append("rect").attr("x", (function (t) { return /[ew]$/.test(t) ? -3 : null })).attr("y", (function (t) { return /^[ns]/.test(t) ? -3 : null })).attr("width", 6).attr("height", 6).style("visibility", "hidden"), h.style("display", t.empty() ? "none" : null), h.exit().remove(), a && (u = Nt(a), f.attr("x", u[0]).attr("width", u[1] - u[0]), e(o)), c && (u = Nt(c), f.attr("y", u[0]).attr("height", u[1] - u[0]), r(o)), n(o) })) } function n(t) { t.selectAll(".resize").attr("transform", (function (t) { return "translate(" + f[+/e$/.test(t)][0] + "," + f[+/^s/.test(t)][1] + ")" })) } function e(t) { t.select(".extent").attr("x", f[0][0]), t.selectAll(".extent,.n>rect,.s>rect").attr("width", f[1][0] - f[0][0]) } function r(t) { t.select(".extent").attr("y", f[0][1]), t.selectAll(".extent,.e>rect,.w>rect").attr("height", f[1][1] - f[0][1]) } function i() { function i() { var t = d3.event.changedTouches; return t ? d3.touches(m, t)[0] : d3.mouse(m) } function l() { 32 == d3.event.keyCode && (k || (p = null, A[0] -= f[1][0], A[1] -= f[1][1], k = 2), N()) } function s() { 32 == d3.event.keyCode && 2 == k && (A[0] += f[1][0], A[1] += f[1][1], k = 0, N()) } function h() { var t = i(), u = !1; v && (t[0] += v[0], t[1] += v[1]), k || (d3.event.altKey ? (p || (p = [(f[0][0] + f[1][0]) / 2, (f[0][1] + f[1][1]) / 2]), A[0] = f[+(t[0] < p[0])][0], A[1] = f[+(t[1] < p[1])][1]) : p = null), _ && d(t, a, 0) && (e(b), u = !0), w && d(t, c, 1) && (r(b), u = !0), u && (n(b), x({ type: "brush", mode: k ? "move" : "resize" })) } function d(t, n, e) { var r, i, o = Nt(n), a = o[0], c = o[1], l = A[e], s = f[1][e] - f[0][e]; if (k && (a -= l, c -= s + l), r = Math.max(a, Math.min(c, t[e])), k ? i = (r += l) + s : (p && (l = Math.max(a, Math.min(c, 2 * p[e] - r))), l < r ? (i = r, r = l) : i = l), f[0][e] !== r || f[1][e] !== i) return u = null, f[0][e] = r, f[1][e] = i, !0 } function g() { h(), b.style("pointer-events", "all").selectAll(".resize").style("display", t.empty() ? "none" : null), d3.select("body").style("cursor", null), S.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), x({ type: "brushend" }), N() } var p, v, m = this, y = d3.select(d3.event.target), x = o.of(m, arguments), b = d3.select(m), M = y.datum(), _ = !/^(n|s)$/.test(M) && a, w = !/^(e|w)$/.test(M) && c, k = y.classed("extent"), A = i(), S = d3.select(window).on("mousemove.brush", h).on("mouseup.brush", g).on("touchmove.brush", h).on("touchend.brush", g).on("keydown.brush", l).on("keyup.brush", s); if (k) A[0] = f[0][0] - A[0], A[1] = f[0][1] - A[1]; else if (M) { var C = +/w$/.test(M), T = +/^n/.test(M); v = [f[1 - C][0] - A[0], f[1 - T][1] - A[1]], A[0] = f[C][0], A[1] = f[T][1] } else d3.event.altKey && (p = A.slice()); b.style("pointer-events", "none").selectAll(".resize").style("display", null), d3.select("body").style("cursor", y.style("cursor")), x({ type: "brushstart" }), h(), N() } var u, o = S(t, "brushstart", "brush", "brushend"), a = null, c = null, l = ci[0], f = [[0, 0], [0, 0]]; return t.x = function (n) { return arguments.length ? (l = ci[!(a = n) << 1 | !c], t) : a }, t.y = function (n) { return arguments.length ? (l = ci[!a << 1 | !(c = n)], t) : c }, t.extent = function (n) { var e, r, i, o, l; return arguments.length ? (u = [[0, 0], [0, 0]], a && (e = n[0], r = n[1], c && (e = e[0], r = r[0]), u[0][0] = e, u[1][0] = r, a.invert && (e = a(e), r = a(r)), r < e && (l = e, e = r, r = l), f[0][0] = 0 | e, f[1][0] = 0 | r), c && (i = n[0], o = n[1], a && (i = i[1], o = o[1]), u[0][1] = i, u[1][1] = o, c.invert && (i = c(i), o = c(o)), o < i && (l = i, i = o, o = l), f[0][1] = 0 | i, f[1][1] = 0 | o), t) : (n = u || f, a && (e = n[0][0], r = n[1][0], u || (e = f[0][0], r = f[1][0], a.invert && (e = a.invert(e), r = a.invert(r)), r < e && (l = e, e = r, r = l))), c && (i = n[0][1], o = n[1][1], u || (i = f[0][1], o = f[1][1], c.invert && (i = c.invert(i), o = c.invert(o)), o < i && (l = i, i = o, o = l))), a && c ? [[e, i], [r, o]] : a ? [e, r] : c && [i, o]) }, t.clear = function () { return u = null, f[0][0] = f[0][1] = f[1][0] = f[1][1] = 0, t }, t.empty = function () { return a && f[0][0] === f[1][0] || c && f[0][1] === f[1][1] }, d3.rebind(t, o, "on") }; var ai = { n: "ns-resize", e: "ew-resize", s: "ns-resize", w: "ew-resize", nw: "nwse-resize", ne: "nesw-resize", se: "nwse-resize", sw: "nesw-resize" }, ci = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []]; d3.behavior = {}, d3.behavior.drag = function () { function t() { this.on("mousedown.drag", n).on("touchstart.drag", n) } function n() { function t() { var t = a.parentNode; return f ? d3.touches(t).filter((function (t) { return t.identifier === f }))[0] : d3.mouse(t) } function n() { if (!a.parentNode) return i(); var n = t(), e = n[0] - s[0], r = n[1] - s[1]; h |= e | r, s = n, N(), c({ type: "drag", x: n[0] + o[0], y: n[1] + o[1], dx: e, dy: r }) } function i() { c({ type: "dragend" }), h && (N(), d3.event.target === l && d.on("click.drag", u, !0)), d.on(f ? "touchmove.drag-" + f : "mousemove.drag", null).on(f ? "touchend.drag-" + f : "mouseup.drag", null) } function u() { N(), d.on("click.drag", null) } var o, a = this, c = e.of(a, arguments), l = d3.event.target, f = d3.event.touches && d3.event.changedTouches[0].identifier, s = t(), h = 0, d = d3.select(window).on(f ? "touchmove.drag-" + f : "mousemove.drag", n).on(f ? "touchend.drag-" + f : "mouseup.drag", i, !0); o = r ? [(o = r.apply(a, arguments)).x - s[0], o.y - s[1]] : [0, 0], f || N(), c({ type: "dragstart" }) } var e = S(t, "drag", "dragstart", "dragend"), r = null; return t.origin = function (n) { return arguments.length ? (r = n, t) : r }, d3.rebind(t, e, "on") }, d3.behavior.zoom = function () { function t() { this.on("mousedown.zoom", u).on("mousewheel.zoom", o).on("mousemove.zoom", a).on("DOMMouseScroll.zoom", o).on("dblclick.zoom", c).on("touchstart.zoom", l).on("touchmove.zoom", f).on("touchend.zoom", l) } function n(t) { return [(t[0] - y[0]) / x, (t[1] - y[1]) / x] } function e(t) { x = Math.max(b[0], Math.min(b[1], t)) } function r(t, n) { n = function (t) { return [t[0] * x + y[0], t[1] * x + y[1]] }(n), y[0] += t[0] - n[0], y[1] += t[1] - n[1] } function i(t) { g && g.domain(d.range().map((function (t) { return (t - y[0]) / x })).map(d.invert)), v && v.domain(p.range().map((function (t) { return (t - y[1]) / x })).map(p.invert)), d3.event.preventDefault(), t({ type: "zoom", scale: x, translate: y }) } function u() { function t() { l = 1, r(d3.mouse(o), s), i(a) } function e() { l && N(), f.on("mousemove.zoom", null).on("mouseup.zoom", null), l && d3.event.target === c && f.on("click.zoom", u, !0) } function u() { N(), f.on("click.zoom", null) } var o = this, a = M.of(o, arguments), c = d3.event.target, l = 0, f = d3.select(window).on("mousemove.zoom", t).on("mouseup.zoom", e), s = n(d3.mouse(o)); window.focus(), N() } function o() { s || (s = n(d3.mouse(this))), e(Math.pow(2, .002 * _n()) * x), r(d3.mouse(this), s), i(M.of(this, arguments)) } function a() { s = null } function c() { var t = d3.mouse(this), u = n(t); e(d3.event.shiftKey ? x / 2 : 2 * x), r(t, u), i(M.of(this, arguments)) } function l() { var t = d3.touches(this), u = Date.now(); if (h = x, s = {}, t.forEach((function (t) { s[t.identifier] = n(t) })), N(), 1 === t.length) { if (u - m < 500) { var o = t[0], a = n(t[0]); e(2 * x), r(o, a), i(M.of(this, arguments)) } m = u } } function f() { var t = d3.touches(this), n = t[0], u = s[n.identifier]; if (o = t[1]) { var o, a = s[o.identifier]; n = [(n[0] + o[0]) / 2, (n[1] + o[1]) / 2], u = [(u[0] + a[0]) / 2, (u[1] + a[1]) / 2], e(d3.event.scale * h) } r(n, u), m = null, i(M.of(this, arguments)) } var s, h, d, g, p, v, m, y = [0, 0], x = 1, b = fi, M = S(t, "zoom"); return t.translate = function (n) { return arguments.length ? (y = n.map(Number), t) : y }, t.scale = function (n) { return arguments.length ? (x = +n, t) : x }, t.scaleExtent = function (n) { return arguments.length ? (b = null == n ? fi : n.map(Number), t) : b }, t.x = function (n) { return arguments.length ? (g = n, d = n.copy(), t) : g }, t.y = function (n) { return arguments.length ? (v = n, p = n.copy(), t) : v }, d3.rebind(t, M, "on") }; var li, fi = [0, 1 / 0]; d3.layout = {}, d3.layout.bundle = function () { return function (t) { for (var n = [], e = -1, r = t.length; ++e < r;)n.push(wn(t[e])); return n } }, d3.layout.chord = function () { function t() { var t, l, s, h, d, g = {}, p = [], v = d3.range(u), m = []; for (e = [], r = [], t = 0, h = -1; ++h < u;) { for (l = 0, d = -1; ++d < u;)l += i[h][d]; p.push(l), m.push(d3.range(u)), t += l } for (o && v.sort((function (t, n) { return o(p[t], p[n]) })), a && m.forEach((function (t, n) { t.sort((function (t, e) { return a(i[n][t], i[n][e]) })) })), t = (2 * Math.PI - f * u) / t, l = 0, h = -1; ++h < u;) { for (s = l, d = -1; ++d < u;) { var y = v[h], x = m[y][d], b = i[y][x], M = l, _ = l += b * t; g[y + "-" + x] = { index: y, subindex: x, startAngle: M, endAngle: _, value: b } } r[y] = { index: y, startAngle: s, endAngle: l, value: (l - s) / t }, l += f } for (h = -1; ++h < u;)for (d = h - 1; ++d < u;) { var w = g[h + "-" + d], k = g[d + "-" + h]; (w.value || k.value) && e.push(w.value < k.value ? { source: k, target: w } : { source: w, target: k }) } c && n() } function n() { e.sort((function (t, n) { return c((t.source.value + t.target.value) / 2, (n.source.value + n.target.value) / 2) })) } var e, r, i, u, o, a, c, l = {}, f = 0; return l.matrix = function (t) { return arguments.length ? (u = (i = t) && i.length, e = r = null, l) : i }, l.padding = function (t) { return arguments.length ? (f = t, e = r = null, l) : f }, l.sortGroups = function (t) { return arguments.length ? (o = t, e = r = null, l) : o }, l.sortSubgroups = function (t) { return arguments.length ? (a = t, e = null, l) : a }, l.sortChords = function (t) { return arguments.length ? (c = t, e && n(), l) : c }, l.chords = function () { return e || t(), e }, l.groups = function () { return r || t(), r }, l }, d3.layout.force = function () { function t(t) { return function (n, e, r, i, u) { if (n.point !== t) { var o = n.cx - t.x, a = n.cy - t.y, c = 1 / Math.sqrt(o * o + a * a); if ((i - e) * c < m) { var l = n.charge * c * c; return t.px -= o * l, t.py -= a * l, !0 } if (n.point && isFinite(c)) { l = n.pointCharge * c * c; t.px -= o * l, t.py -= a * l } } return !n.charge } } function e(t) { t.px = d3.event.x, t.py = d3.event.y, l.resume() } var r, u, o, a, c, l = {}, f = d3.dispatch("start", "tick", "end"), s = [1, 1], h = .9, d = qn, g = zn, p = -30, v = .1, m = .8, y = [], x = []; return l.tick = function () { if ((u *= .99) < .005) return f.end({ type: "end", alpha: u = 0 }), !0; var n, e, r, i, l, d, g, m, b, M = y.length, _ = x.length; for (e = 0; e < _; ++e)i = (r = x[e]).source, (d = (m = (l = r.target).x - i.x) * m + (b = l.y - i.y) * b) && (m *= d = u * a[e] * ((d = Math.sqrt(d)) - o[e]) / d, b *= d, l.x -= m * (g = i.weight / (l.weight + i.weight)), l.y -= b * g, i.x += m * (g = 1 - g), i.y += b * g); if ((g = u * v) && (m = s[0] / 2, b = s[1] / 2, e = -1, g)) for (; ++e < M;)(r = y[e]).x += (m - r.x) * g, r.y += (b - r.y) * g; if (p) for (Tn(n = d3.geom.quadtree(y), u, c), e = -1; ++e < M;)(r = y[e]).fixed || n.visit(t(r)); for (e = -1; ++e < M;)(r = y[e]).fixed ? (r.x = r.px, r.y = r.py) : (r.x -= (r.px - (r.px = r.x)) * h, r.y -= (r.py - (r.py = r.y)) * h); f.tick({ type: "tick", alpha: u }) }, l.nodes = function (t) { return arguments.length ? (y = t, l) : y }, l.links = function (t) { return arguments.length ? (x = t, l) : x }, l.size = function (t) { return arguments.length ? (s = t, l) : s }, l.linkDistance = function (t) { return arguments.length ? (d = i(t), l) : d }, l.distance = l.linkDistance, l.linkStrength = function (t) { return arguments.length ? (g = i(t), l) : g }, l.friction = function (t) { return arguments.length ? (h = t, l) : h }, l.charge = function (t) { return arguments.length ? (p = "function" == typeof t ? t : +t, l) : p }, l.gravity = function (t) { return arguments.length ? (v = t, l) : v }, l.theta = function (t) { return arguments.length ? (m = t, l) : m }, l.alpha = function (t) { return arguments.length ? (u ? u = t > 0 ? t : 0 : t > 0 && (f.start({ type: "start", alpha: u = t }), d3.timer(l.tick)), l) : u }, l.start = function () { function t(t, e) { for (var r, i = n(), u = -1, o = i.length; ++u < o;)if (!isNaN(r = i[u][t])) return r; return Math.random() * e } function n() { if (!i) { for (i = [], r = 0; r < f; ++r)i[r] = []; for (r = 0; r < h; ++r) { var t = x[r]; i[t.source.index].push(t.target), i[t.target.index].push(t.source) } } return i[e] } var e, r, i, u, f = y.length, h = x.length, v = s[0], m = s[1]; for (e = 0; e < f; ++e)(u = y[e]).index = e, u.weight = 0; for (o = [], a = [], e = 0; e < h; ++e)"number" == typeof (u = x[e]).source && (u.source = y[u.source]), "number" == typeof u.target && (u.target = y[u.target]), o[e] = d.call(this, u, e), a[e] = g.call(this, u, e), ++u.source.weight, ++u.target.weight; for (e = 0; e < f; ++e)u = y[e], isNaN(u.x) && (u.x = t("x", v)), isNaN(u.y) && (u.y = t("y", m)), isNaN(u.px) && (u.px = u.x), isNaN(u.py) && (u.py = u.y); if (c = [], "function" == typeof p) for (e = 0; e < f; ++e)c[e] = +p.call(this, y[e], e); else for (e = 0; e < f; ++e)c[e] = p; return l.resume() }, l.resume = function () { return l.alpha(.1) }, l.stop = function () { return l.alpha(0) }, l.drag = function () { r || (r = d3.behavior.drag().origin(n).on("dragstart", Nn).on("drag", e).on("dragend", An)), this.on("mouseover.force", Sn).on("mouseout.force", Cn).call(r) }, d3.rebind(l, f, "on") }, d3.layout.partition = function () { function t(n, e, r, i) { var u = n.children; if (n.x = e, n.y = n.depth * i, n.dx = r, n.dy = i, u && (o = u.length)) { var o, a, c, l = -1; for (r = n.value ? r / n.value : 0; ++l < o;)t(a = u[l], e, c = a.value * r, i), e += c } } function n(t) { var e = t.children, r = 0; if (e && (i = e.length)) for (var i, u = -1; ++u < i;)r = Math.max(r, n(e[u])); return 1 + r } function e(e, u) { var o = r.call(this, e, u); return t(o[0], 0, i[0], i[1] / n(o[0])), o } var r = d3.layout.hierarchy(), i = [1, 1]; return e.size = function (t) { return arguments.length ? (i = t, e) : i }, Un(e, r) }, d3.layout.pie = function () { function t(u, o) { var a = u.map((function (e, r) { return +n.call(t, e, r) })), c = +("function" == typeof r ? r.apply(this, arguments) : r), l = (("function" == typeof i ? i.apply(this, arguments) : i) - r) / d3.sum(a), f = d3.range(u.length); null != e && f.sort(e === si ? function (t, n) { return a[n] - a[t] } : function (t, n) { return e(u[t], u[n]) }); var s = []; return f.forEach((function (t) { var n; s[t] = { data: u[t], value: n = a[t], startAngle: c, endAngle: c += n * l } })), s } var n = Number, e = si, r = 0, i = 2 * Math.PI; return t.value = function (e) { return arguments.length ? (n = e, t) : n }, t.sort = function (n) { return arguments.length ? (e = n, t) : e }, t.startAngle = function (n) { return arguments.length ? (r = n, t) : r }, t.endAngle = function (n) { return arguments.length ? (i = n, t) : i }, t }; var si = {}; d3.layout.stack = function () { function t(n, c) { var l = n.map((function (n, r) { return e.call(t, n, r) })), f = l.map((function (n, e) { return n.map((function (n, e) { return [o.call(t, n, e), a.call(t, n, e)] })) })), s = r.call(t, f, c); l = d3.permute(l, s), f = d3.permute(f, s); var h, d, g, p = i.call(t, f, c), v = l.length, m = l[0].length; for (d = 0; d < m; ++d)for (u.call(t, l[0][d], g = p[d], f[0][d][1]), h = 1; h < v; ++h)u.call(t, l[h][d], g += f[h - 1][d][1], f[h][d][1]); return n } var e = n, r = Ln, i = Fn, u = Pn, o = En, a = Dn; return t.values = function (n) { return arguments.length ? (e = n, t) : e }, t.order = function (n) { return arguments.length ? (r = "function" == typeof n ? n : hi.get(n) || Ln, t) : r }, t.offset = function (n) { return arguments.length ? (i = "function" == typeof n ? n : di.get(n) || Fn, t) : i }, t.x = function (n) { return arguments.length ? (o = n, t) : o }, t.y = function (n) { return arguments.length ? (a = n, t) : a }, t.out = function (n) { return arguments.length ? (u = n, t) : u }, t }; var hi = d3.map({ "inside-out": function (t) { var n, e, r = t.length, i = t.map(In), u = t.map(Hn), o = d3.range(r).sort((function (t, n) { return i[t] - i[n] })), a = 0, c = 0, l = [], f = []; for (n = 0; n < r; ++n)e = o[n], a < c ? (a += u[e], l.push(e)) : (c += u[e], f.push(e)); return f.reverse().concat(l) }, reverse: function (t) { return d3.range(t.length).reverse() }, default: Ln }), di = d3.map({ silhouette: function (t) { var n, e, r, i = t.length, u = t[0].length, o = [], a = 0, c = []; for (e = 0; e < u; ++e) { for (n = 0, r = 0; n < i; n++)r += t[n][e][1]; r > a && (a = r), o.push(r) } for (e = 0; e < u; ++e)c[e] = (a - o[e]) / 2; return c }, wiggle: function (t) { var n, e, r, i, u, o, a, c, l, f = t.length, s = t[0], h = s.length, d = []; for (d[0] = c = l = 0, e = 1; e < h; ++e) { for (n = 0, i = 0; n < f; ++n)i += t[n][e][1]; for (n = 0, u = 0, a = s[e][0] - s[e - 1][0]; n < f; ++n) { for (r = 0, o = (t[n][e][1] - t[n][e - 1][1]) / (2 * a); r < n; ++r)o += (t[r][e][1] - t[r][e - 1][1]) / a; u += o * t[n][e][1] } d[e] = c -= i ? u / i * a : 0, c < l && (l = c) } for (e = 0; e < h; ++e)d[e] -= l; return d }, expand: function (t) { var n, e, r, i = t.length, u = t[0].length, o = 1 / i, a = []; for (e = 0; e < u; ++e) { for (n = 0, r = 0; n < i; n++)r += t[n][e][1]; if (r) for (n = 0; n < i; n++)t[n][e][1] /= r; else for (n = 0; n < i; n++)t[n][e][1] = o } for (e = 0; e < u; ++e)a[e] = 0; return a }, zero: Fn }); d3.layout.histogram = function () { function t(t, i) { for (var o, a, c = [], l = t.map(e, this), f = r.call(this, l, i), s = u.call(this, f, l, i), h = (i = -1, l.length), d = s.length - 1, g = n ? 1 : 1 / h; ++i < d;)(o = c[i] = []).dx = s[i + 1] - (o.x = s[i]), o.y = 0; if (d > 0) for (i = -1; ++i < h;)(a = l[i]) >= f[0] && a <= f[1] && ((o = c[d3.bisect(s, a, 1, d) - 1]).y += g, o.push(t[i])); return c } var n = !0, e = Number, r = Yn, u = Rn; return t.value = function (n) { return arguments.length ? (e = n, t) : e }, t.range = function (n) { return arguments.length ? (r = i(n), t) : r }, t.bins = function (n) { return arguments.length ? (u = "number" == typeof n ? function (t) { return jn(t, n) } : i(n), t) : u }, t.frequency = function (e) { return arguments.length ? (n = !!e, t) : n }, t }, d3.layout.hierarchy = function () { function t(n, o, a) { var c = i.call(e, n, o), l = gi ? n : { data: n }; if (l.depth = o, a.push(l), c && (f = c.length)) { for (var f, s, h = -1, d = l.children = [], g = 0, p = o + 1; ++h < f;)(s = t(c[h], p, a)).parent = l, d.push(s), g += s.value; r && d.sort(r), u && (l.value = g) } else u && (l.value = +u.call(e, n, o) || 0); return l } function n(t, r) { var i = t.children, o = 0; if (i && (a = i.length)) for (var a, c = -1, l = r + 1; ++c < a;)o += n(i[c], l); else u && (o = +u.call(e, gi ? t : t.data, r) || 0); return u && (t.value = o), o } function e(n) { var e = []; return t(n, 0, e), e } var r = Bn, i = Vn, u = Zn; return e.sort = function (t) { return arguments.length ? (r = t, e) : r }, e.children = function (t) { return arguments.length ? (i = t, e) : i }, e.value = function (t) { return arguments.length ? (u = t, e) : u }, e.revalue = function (t) { return n(t, 0), t }, e }; var gi = !1; d3.layout.pack = function () { function t(t, i) { var u = n.call(this, t, i), o = u[0]; o.x = 0, o.y = 0, he(o, (function (t) { t.r = Math.sqrt(t.value) })), he(o, Qn); var a = r[0], c = r[1], l = Math.max(2 * o.r / a, 2 * o.r / c); if (e > 0) { var f = e * l / 2; he(o, (function (t) { t.r += f })), he(o, Qn), he(o, (function (t) { t.r -= f })), l = Math.max(2 * o.r / a, 2 * o.r / c) } return ne(o, a / 2, c / 2, 1 / l), u } var n = d3.layout.hierarchy().sort($n), e = 0, r = [1, 1]; return t.size = function (n) { return arguments.length ? (r = n, t) : r }, t.padding = function (n) { return arguments.length ? (e = +n, t) : e }, Un(t, n) }, d3.layout.cluster = function () { function t(t, i) { var u, o = n.call(this, t, i), a = o[0], c = 0; he(a, (function (t) { var n = t.children; n && n.length ? (t.x = function (t) { return t.reduce((function (t, n) { return t + n.x }), 0) / t.length }(n), t.y = function (t) { return 1 + d3.max(t, (function (t) { return t.y })) }(n)) : (t.x = u ? c += e(t, u) : 0, t.y = 0, u = t) })); var l = re(a), f = ie(a), s = l.x - e(l, f) / 2, h = f.x + e(f, l) / 2; return he(a, (function (t) { t.x = (t.x - s) / (h - s) * r[0], t.y = (1 - (a.y ? t.y / a.y : 1)) * r[1] })), o } var n = d3.layout.hierarchy().sort(null).value(null), e = ue, r = [1, 1]; return t.separation = function (n) { return arguments.length ? (e = n, t) : e }, t.size = function (n) { return arguments.length ? (r = n, t) : r }, Un(t, n) }, d3.layout.tree = function () { function t(t, i) { function u(t, n, r) { if (n) { for (var i, u = t, o = t, a = n, c = t.parent.children[0], l = u._tree.mod, f = o._tree.mod, s = a._tree.mod, h = c._tree.mod; a = ae(a), u = oe(u), a && u;)c = oe(c), (o = ae(o))._tree.ancestor = t, (i = a._tree.prelim + s - u._tree.prelim - l + e(a, u)) > 0 && (de(ge(a, t, r), t, i), l += i, f += i), s += a._tree.mod, l += u._tree.mod, h += c._tree.mod, f += o._tree.mod; a && !ae(o) && (o._tree.thread = a, o._tree.mod += s - f), u && !oe(c) && (c._tree.thread = u, c._tree.mod += l - h, r = t) } return r } var o = n.call(this, t, i), a = o[0]; he(a, (function (t, n) { t._tree = { ancestor: t, prelim: 0, mod: 0, change: 0, shift: 0, number: n ? n._tree.number + 1 : 0 } })), function t(n, r) { var i = n.children, o = n._tree; if (i && (a = i.length)) { for (var a, c, l, f = i[0], s = f, h = -1; ++h < a;)t(l = i[h], c), s = u(l, c, s), c = l; !function (t) { for (var n, e = 0, r = 0, i = t.children, u = i.length; --u >= 0;)(n = i[u]._tree).prelim += e, n.mod += e, e += n.shift + (r += n.change) }(n); var d = .5 * (f._tree.prelim + l._tree.prelim); r ? (o.prelim = r._tree.prelim + e(n, r), o.mod = o.prelim - d) : o.prelim = d } else r && (o.prelim = r._tree.prelim + e(n, r)) }(a), function t(n, e) { n.x = n._tree.prelim + e; var r = n.children; if (r && (i = r.length)) { var i, u = -1; for (e += n._tree.mod; ++u < i;)t(r[u], e) } }(a, -a._tree.prelim); var c = ce(a, fe), l = ce(a, le), f = ce(a, se), s = c.x - e(c, l) / 2, h = l.x + e(l, c) / 2, d = f.depth || 1; return he(a, (function (t) { t.x = (t.x - s) / (h - s) * r[0], t.y = t.depth / d * r[1], delete t._tree })), o } var n = d3.layout.hierarchy().sort(null).value(null), e = ue, r = [1, 1]; return t.separation = function (n) { return arguments.length ? (e = n, t) : e }, t.size = function (n) { return arguments.length ? (r = n, t) : r }, Un(t, n) }, d3.layout.treemap = function () { function t(t, n) { for (var e, r, i = -1, u = t.length; ++i < u;)r = (e = t[i]).value * (n < 0 ? 0 : n), e.area = isNaN(r) || r <= 0 ? 0 : r } function n(e) { var u = e.children; if (u && u.length) { var o, a, c, l = s(e), f = [], h = u.slice(), d = 1 / 0, g = Math.min(l.dx, l.dy); for (t(h, l.dx * l.dy / e.value), f.area = 0; (c = h.length) > 0;)f.push(o = h[c - 1]), f.area += o.area, (a = r(f, g)) <= d ? (h.pop(), d = a) : (f.area -= f.pop().area, i(f, g, l, !1), g = Math.min(l.dx, l.dy), f.length = f.area = 0, d = 1 / 0); f.length && (i(f, g, l, !0), f.length = f.area = 0), u.forEach(n) } } function e(n) { var r = n.children; if (r && r.length) { var u, o = s(n), a = r.slice(), c = []; for (t(a, o.dx * o.dy / n.value), c.area = 0; u = a.pop();)c.push(u), c.area += u.area, null != u.z && (i(c, u.z ? o.dx : o.dy, o, !a.length), c.length = c.area = 0); r.forEach(e) } } function r(t, n) { for (var e, r = t.area, i = 0, u = 1 / 0, o = -1, a = t.length; ++o < a;)(e = t[o].area) && (e < u && (u = e), e > i && (i = e)); return n *= n, (r *= r) ? Math.max(n * i * d / r, r / (n * u * d)) : 1 / 0 } function i(t, n, e, r) { var i, u = -1, o = t.length, a = e.x, l = e.y, f = n ? c(t.area / n) : 0; if (n == e.dx) { for ((r || f > e.dy) && (f = e.dy); ++u < o;)(i = t[u]).x = a, i.y = l, i.dy = f, a += i.dx = Math.min(e.x + e.dx - a, f ? c(i.area / f) : 0); i.z = !0, i.dx += e.x + e.dx - a, e.y += f, e.dy -= f } else { for ((r || f > e.dx) && (f = e.dx); ++u < o;)(i = t[u]).x = a, i.y = l, i.dx = f, l += i.dy = Math.min(e.y + e.dy - l, f ? c(i.area / f) : 0); i.z = !1, i.dy += e.y + e.dy - l, e.x += f, e.dx -= f } } function u(r) { var i = o || a(r), u = i[0]; return u.x = 0, u.y = 0, u.dx = l[0], u.dy = l[1], o && a.revalue(u), t([u], u.dx * u.dy / u.value), (o ? e : n)(u), h && (o = i), i } var o, a = d3.layout.hierarchy(), c = Math.round, l = [1, 1], f = null, s = pe, h = !1, d = .5 * (1 + Math.sqrt(5)); return u.size = function (t) { return arguments.length ? (l = t, u) : l }, u.padding = function (t) { function n(n) { var e = t.call(u, n, n.depth); return null == e ? pe(n) : ve(n, "number" == typeof e ? [e, e, e, e] : e) } function e(n) { return ve(n, t) } return arguments.length ? (s = null == (f = t) ? pe : "function" == (r = typeof t) ? n : "number" === r ? (t = [t, t, t, t], e) : e, u) : f; var r }, u.round = function (t) { return arguments.length ? (c = t ? Math.round : Number, u) : c != Number }, u.sticky = function (t) { return arguments.length ? (h = t, o = null, u) : h }, u.ratio = function (t) { return arguments.length ? (d = t, u) : d }, Un(u, a) }, d3.csv = me(",", "text/csv"), d3.tsv = me("\t", "text/tab-separated-values"), d3.geo = {}; var pi = Math.PI / 180; d3.geo.azimuthal = function () { function t(t) { var n, r = t[0] * pi - e, l = t[1] * pi, f = Math.cos(r), s = Math.sin(r), h = Math.cos(l), d = Math.sin(l), g = "orthographic" !== o ? u * d + i * h * f : null, p = "stereographic" === o ? 1 / (1 + g) : "gnomonic" === o ? 1 / g : "equidistant" === o ? (n = Math.acos(g)) ? n / Math.sin(n) : 0 : "equalarea" === o ? Math.sqrt(2 / (1 + g)) : 1, v = p * (u * h * f - i * d); return [a * (p * h * s) + c[0], a * v + c[1]] } var n, e, r, i, u, o = "orthographic", a = 200, c = [480, 250]; return t.invert = function (t) { var n = (t[0] - c[0]) / a, r = (t[1] - c[1]) / a, l = Math.sqrt(n * n + r * r), f = "stereographic" === o ? 2 * Math.atan(l) : "gnomonic" === o ? Math.atan(l) : "equidistant" === o ? l : "equalarea" === o ? 2 * Math.asin(.5 * l) : Math.asin(l), s = Math.sin(f), h = Math.cos(f); return [(e + Math.atan2(n * s, l * i * h + r * u * s)) / pi, Math.asin(h * u - (l ? r * s * i / l : 0)) / pi] }, t.mode = function (n) { return arguments.length ? (o = n + "", t) : o }, t.origin = function (o) { return arguments.length ? (e = (n = o)[0] * pi, r = n[1] * pi, i = Math.cos(r), u = Math.sin(r), t) : n }, t.scale = function (n) { return arguments.length ? (a = +n, t) : a }, t.translate = function (n) { return arguments.length ? (c = [+n[0], +n[1]], t) : c }, t.origin([0, 0]) }, d3.geo.albers = function () { function t(t) { var n = r * (pi * t[0] - e), o = Math.sqrt(i - 2 * r * Math.sin(pi * t[1])) / r; return [c * o * Math.sin(n) + l[0], c * (o * Math.cos(n) - u) + l[1]] } function n() { var n = pi * a[0], c = pi * a[1], l = pi * o[1], f = Math.sin(n), s = Math.cos(n); return e = pi * o[0], r = .5 * (f + Math.sin(c)), i = s * s + 2 * r * f, u = Math.sqrt(i - 2 * r * Math.sin(l)) / r, t } var e, r, i, u, o = [-98, 38], a = [29.5, 45.5], c = 1e3, l = [480, 250]; return t.invert = function (t) { var n = (t[0] - l[0]) / c, o = (t[1] - l[1]) / c, a = u + o, f = Math.atan2(n, a), s = Math.sqrt(n * n + a * a); return [(e + f / r) / pi, Math.asin((i - s * s * r * r) / (2 * r)) / pi] }, t.origin = function (t) { return arguments.length ? (o = [+t[0], +t[1]], n()) : o }, t.parallels = function (t) { return arguments.length ? (a = [+t[0], +t[1]], n()) : a }, t.scale = function (n) { return arguments.length ? (c = +n, t) : c }, t.translate = function (n) { return arguments.length ? (l = [+n[0], +n[1]], t) : l }, n() }, d3.geo.albersUsa = function () { function t(t) { var u = t[0], o = t[1]; return (o > 50 ? e : u < -140 ? r : o < 21 ? i : n)(t) } var n = d3.geo.albers(), e = d3.geo.albers().origin([-160, 60]).parallels([55, 65]), r = d3.geo.albers().origin([-160, 20]).parallels([8, 18]), i = d3.geo.albers().origin([-60, 10]).parallels([8, 18]); return t.scale = function (u) { return arguments.length ? (n.scale(u), e.scale(.6 * u), r.scale(u), i.scale(1.5 * u), t.translate(n.translate())) : n.scale() }, t.translate = function (u) { if (!arguments.length) return n.translate(); var o = n.scale() / 1e3, a = u[0], c = u[1]; return n.translate(u), e.translate([a - 400 * o, c + 170 * o]), r.translate([a - 190 * o, c + 200 * o]), i.translate([a + 580 * o, c + 430 * o]), t }, t.scale(n.scale()) }, d3.geo.bonne = function () { function t(t) { var a = t[0] * pi - n, c = t[1] * pi - e; if (r) { var l = i + r - c, f = a * Math.cos(c) / l; a = l * Math.sin(f), c = l * Math.cos(f) - i } else a *= Math.cos(c), c *= -1; return [u * a + o[0], u * c + o[1]] } var n, e, r, i, u = 200, o = [480, 250]; return t.invert = function (t) { var e = (t[0] - o[0]) / u, a = (t[1] - o[1]) / u; if (r) { var c = i + a, l = Math.sqrt(e * e + c * c); a = i + r - l, e = n + l * Math.atan2(e, c) / Math.cos(a) } else a *= -1, e /= Math.cos(a); return [e / pi, a / pi] }, t.parallel = function (n) { return arguments.length ? (i = 1 / Math.tan(r = n * pi), t) : r / pi }, t.origin = function (r) { return arguments.length ? (n = r[0] * pi, e = r[1] * pi, t) : [n / pi, e / pi] }, t.scale = function (n) { return arguments.length ? (u = +n, t) : u }, t.translate = function (n) { return arguments.length ? (o = [+n[0], +n[1]], t) : o }, t.origin([0, 0]).parallel(45) }, d3.geo.equirectangular = function () { function t(t) { var r = t[0] / 360, i = -t[1] / 360; return [n * r + e[0], n * i + e[1]] } var n = 500, e = [480, 250]; return t.invert = function (t) { return [360 * ((t[0] - e[0]) / n), -360 * ((t[1] - e[1]) / n)] }, t.scale = function (e) { return arguments.length ? (n = +e, t) : n }, t.translate = function (n) { return arguments.length ? (e = [+n[0], +n[1]], t) : e }, t }, d3.geo.mercator = function () { function t(t) { var r = t[0] / 360, i = -Math.log(Math.tan(Math.PI / 4 + t[1] * pi / 2)) / pi / 360; return [n * r + e[0], n * Math.max(-.5, Math.min(.5, i)) + e[1]] } var n = 500, e = [480, 250]; return t.invert = function (t) { var r = (t[0] - e[0]) / n, i = (t[1] - e[1]) / n; return [360 * r, 2 * Math.atan(Math.exp(-360 * i * pi)) / pi - 90] }, t.scale = function (e) { return arguments.length ? (n = +e, t) : n }, t.translate = function (n) { return arguments.length ? (e = [+n[0], +n[1]], t) : e }, t }, d3.geo.path = function () { function t(t, n) { "function" == typeof u && (o = xe(u.apply(this, arguments))), l(t); var e = c.length ? c.join("") : null; return c = [], e } function n(t) { return a(t).join(",") } function e(t) { for (var n = i(t[0]), e = 0, r = t.length; ++e < r;)n -= i(t[e]); return n } function r(t) { for (var n = d3.geom.polygon(t[0].map(a)), e = n.area(), r = n.centroid(e < 0 ? (e *= -1, 1) : -1), i = r[0], u = r[1], o = e, c = 0, l = t.length; ++c < l;)e = (n = d3.geom.polygon(t[c].map(a))).area(), i -= (r = n.centroid(e < 0 ? (e *= -1, 1) : -1))[0], u -= r[1], o -= e; return [i, u, 6 * o] } function i(t) { return Math.abs(d3.geom.polygon(t.map(a)).area()) } var u = 4.5, o = xe(u), a = d3.geo.albersUsa(), c = [], l = ye({ FeatureCollection: function (t) { for (var n = t.features, e = -1, r = n.length; ++e < r;)c.push(l(n[e].geometry)) }, Feature: function (t) { l(t.geometry) }, Point: function (t) { c.push("M", n(t.coordinates), o) }, MultiPoint: function (t) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)c.push("M", n(e[r]), o) }, LineString: function (t) { var e = t.coordinates, r = -1, i = e.length; for (c.push("M"); ++r < i;)c.push(n(e[r]), "L"); c.pop() }, MultiLineString: function (t) { for (var e, r, i, u = t.coordinates, o = -1, a = u.length; ++o < a;) { for (r = -1, i = (e = u[o]).length, c.push("M"); ++r < i;)c.push(n(e[r]), "L"); c.pop() } }, Polygon: function (t) { for (var e, r, i, u = t.coordinates, o = -1, a = u.length; ++o < a;)if (r = -1, (i = (e = u[o]).length - 1) > 0) { for (c.push("M"); ++r < i;)c.push(n(e[r]), "L"); c[c.length - 1] = "Z" } }, MultiPolygon: function (t) { for (var e, r, i, u, o, a, l = t.coordinates, f = -1, s = l.length; ++f < s;)for (r = -1, i = (e = l[f]).length; ++r < i;)if (o = -1, (a = (u = e[r]).length - 1) > 0) { for (c.push("M"); ++o < a;)c.push(n(u[o]), "L"); c[c.length - 1] = "Z" } }, GeometryCollection: function (t) { for (var n = t.geometries, e = -1, r = n.length; ++e < r;)c.push(l(n[e])) } }), f = t.area = ye({ FeatureCollection: function (t) { for (var n = 0, e = t.features, r = -1, i = e.length; ++r < i;)n += f(e[r]); return n }, Feature: function (t) { return f(t.geometry) }, Polygon: function (t) { return e(t.coordinates) }, MultiPolygon: function (t) { for (var n = 0, r = t.coordinates, i = -1, u = r.length; ++i < u;)n += e(r[i]); return n }, GeometryCollection: function (t) { for (var n = 0, e = t.geometries, r = -1, i = e.length; ++r < i;)n += f(e[r]); return n } }, 0), s = t.centroid = ye({ Feature: function (t) { return s(t.geometry) }, Polygon: function (t) { var n = r(t.coordinates); return [n[0] / n[2], n[1] / n[2]] }, MultiPolygon: function (t) { for (var n, e = t.coordinates, i = 0, u = 0, o = 0, a = -1, c = e.length; ++a < c;)i += (n = r(e[a]))[0], u += n[1], o += n[2]; return [i / o, u / o] } }); return t.projection = function (n) { return a = n, t }, t.pointRadius = function (n) { return "function" == typeof n ? u = n : o = xe(u = +n), t }, t }, d3.geo.bounds = function (t) { var n = 1 / 0, e = 1 / 0, r = -1 / 0, i = -1 / 0; return be(t, (function (t, u) { t < n && (n = t), t > r && (r = t), u < e && (e = u), u > i && (i = u) })), [[n, e], [r, i]] }; var vi = { Feature: function (t, n) { be(t.geometry, n) }, FeatureCollection: function (t, n) { for (var e = t.features, r = 0, i = e.length; r < i; r++)be(e[r].geometry, n) }, GeometryCollection: function (t, n) { for (var e = t.geometries, r = 0, i = e.length; r < i; r++)be(e[r], n) }, LineString: Me, MultiLineString: function (t, n) { for (var e = t.coordinates, r = 0, i = e.length; r < i; r++)for (var u = e[r], o = 0, a = u.length; o < a; o++)n.apply(null, u[o]) }, MultiPoint: Me, MultiPolygon: function (t, n) { for (var e = t.coordinates, r = 0, i = e.length; r < i; r++)for (var u = e[r][0], o = 0, a = u.length; o < a; o++)n.apply(null, u[o]) }, Point: function (t, n) { n.apply(null, t.coordinates) }, Polygon: function (t, n) { for (var e = t.coordinates[0], r = 0, i = e.length; r < i; r++)n.apply(null, e[r]) } }; d3.geo.circle = function () { function t() { } function e(t) { return a.distance(t) < o } function r(t) { for (var n, e, r, i, u, c = -1, l = t.length, f = []; ++c < l;)(u = a.distance(r = t[c])) < o ? (e && f.push(Ne(e, r)((i - o) / (i - u))), f.push(r), n = e = null) : (e = r, !n && f.length && (f.push(Ne(f[f.length - 1], e)((o - i) / (u - i))), n = e)), i = u; return n = t[0], !(e = f[0]) || r[0] !== n[0] || r[1] !== n[1] || r[0] === e[0] && r[1] === e[1] || f.push(e), function (t) { var n, e, r, i = 0, u = t.length, o = u ? [t[0]] : t, c = a.source(); for (; ++i < u;)for (n = 0, e = (r = a.source(t[i - 1])(t[i]).coordinates).length; ++n < e;)o.push(r[n]); return a.source(c), o }(f) } var i = [0, 0], u = 89.99, o = u * pi, a = d3.geo.greatArc().source(i).target(n); t.clip = function (t) { return "function" == typeof i && a.source(i.apply(this, arguments)), c(t) || null }; var c = ye({ FeatureCollection: function (t) { var e = t.features.map(c).filter(n); return e && ((t = Object.create(t)).features = e, t) }, Feature: function (t) { var n = c(t.geometry); return n && ((t = Object.create(t)).geometry = n, t) }, Point: function (t) { return e(t.coordinates) && t }, MultiPoint: function (t) { var n = t.coordinates.filter(e); return n.length && { type: t.type, coordinates: n } }, LineString: function (t) { var n = r(t.coordinates); return n.length && ((t = Object.create(t)).coordinates = n, t) }, MultiLineString: function (t) { var n = t.coordinates.map(r).filter((function (t) { return t.length })); return n.length && ((t = Object.create(t)).coordinates = n, t) }, Polygon: function (t) { var n = t.coordinates.map(r); return n[0].length && ((t = Object.create(t)).coordinates = n, t) }, MultiPolygon: function (t) { var n = t.coordinates.map((function (t) { return t.map(r) })).filter((function (t) { return t[0].length })); return n.length && ((t = Object.create(t)).coordinates = n, t) }, GeometryCollection: function (t) { var e = t.geometries.map(c).filter(n); return e.length && ((t = Object.create(t)).geometries = e, t) } }); return t.origin = function (n) { return arguments.length ? ("function" != typeof (i = n) && a.source(i), t) : i }, t.angle = function (n) { return arguments.length ? (o = (u = +n) * pi, t) : u }, d3.rebind(t, a, "precision") }, d3.geo.greatArc = function () { function t() { for (var r = t.distance.apply(this, arguments), i = 0, a = u / r, c = [n]; (i += a) < 1;)c.push(o(i)); return c.push(e), { type: "LineString", coordinates: c } } var n, e, r = _e, i = we, u = 6 * pi, o = ke(); return t.distance = function () { return "function" == typeof r && o.source(n = r.apply(this, arguments)), "function" == typeof i && o.target(e = i.apply(this, arguments)), o.distance() }, t.source = function (e) { return arguments.length ? ("function" != typeof (r = e) && o.source(n = r), t) : r }, t.target = function (n) { return arguments.length ? ("function" != typeof (i = n) && o.target(e = i), t) : i }, t.precision = function (n) { return arguments.length ? (u = n * pi, t) : u / pi }, t }, d3.geo.greatCircle = d3.geo.circle, d3.geom = {}, d3.geom.contour = function (t, n) { var e = n || function (t) { for (var n = 0, e = 0; ;) { if (t(n, e)) return [n, e]; 0 === n ? (n = e + 1, e = 0) : (n -= 1, e += 1) } }(t), r = [], i = e[0], u = e[1], o = 0, a = 0, c = NaN, l = NaN, f = 0; do { f = 0, t(i - 1, u - 1) && (f += 1), t(i, u - 1) && (f += 2), t(i - 1, u) && (f += 4), t(i, u) && (f += 8), 6 === f ? (o = -1 === l ? -1 : 1, a = 0) : 9 === f ? (o = 0, a = 1 === c ? -1 : 1) : (o = mi[f], a = yi[f]), o != c && a != l && (r.push([i, u]), c = o, l = a), i += o, u += a } while (e[0] != i || e[1] != u); return r }; var mi = [1, 0, 1, 1, -1, 0, -1, 1, 0, 0, 0, 0, -1, 0, -1, NaN], yi = [0, -1, 0, 0, 0, -1, 0, 0, 1, -1, 1, 1, 0, -1, 0, NaN]; d3.geom.hull = function (t) { if (t.length < 3) return []; var n, e, r, i, u, o, a, c, l, f, s = t.length, h = s - 1, d = [], g = [], p = 0; for (n = 1; n < s; ++n)t[n][1] < t[p][1] ? p = n : t[n][1] == t[p][1] && (p = t[n][0] < t[p][0] ? n : p); for (n = 0; n < s; ++n)n !== p && (i = t[n][1] - t[p][1], r = t[n][0] - t[p][0], d.push({ angle: Math.atan2(i, r), index: n })); for (d.sort((function (t, n) { return t.angle - n.angle })), l = d[0].angle, c = d[0].index, a = 0, n = 1; n < h; ++n)e = d[n].index, l == d[n].angle ? (r = t[c][0] - t[p][0]) * r + (i = t[c][1] - t[p][1]) * i >= (u = t[e][0] - t[p][0]) * u + (o = t[e][1] - t[p][1]) * o ? d[n].index = -1 : (d[a].index = -1, l = d[n].angle, a = n, c = e) : (l = d[n].angle, a = n, c = e); for (g.push(p), n = 0, e = 0; n < 2; ++e)-1 !== d[e].index && (g.push(d[e].index), n++); for (f = g.length; e < h; ++e)if (-1 !== d[e].index) { for (; !Ae(g[f - 2], g[f - 1], d[e].index, t);)--f; g[f++] = d[e].index } var v = []; for (n = 0; n < f; ++n)v.push(t[g[n]]); return v }, d3.geom.polygon = function (t) { return t.area = function () { for (var n = 0, e = t.length, r = t[e - 1][0] * t[0][1], i = t[e - 1][1] * t[0][0]; ++n < e;)r += t[n - 1][0] * t[n][1], i += t[n - 1][1] * t[n][0]; return .5 * (i - r) }, t.centroid = function (n) { var e, r, i = -1, u = t.length, o = 0, a = 0, c = t[u - 1]; for (arguments.length || (n = -1 / (6 * t.area())); ++i < u;)e = c, c = t[i], r = e[0] * c[1] - c[0] * e[1], o += (e[0] + c[0]) * r, a += (e[1] + c[1]) * r; return [o * n, a * n] }, t.clip = function (n) { for (var e, r, i, u, o, a, c = -1, l = t.length, f = t[l - 1]; ++c < l;) { for (e = n.slice(), n.length = 0, u = t[c], o = e[(i = e.length) - 1], r = -1; ++r < i;)Se(a = e[r], f, u) ? (Se(o, f, u) || n.push(Ce(o, a, f, u)), n.push(a)) : Se(o, f, u) && n.push(Ce(o, a, f, u)), o = a; f = u } return n }, t }, d3.geom.voronoi = function (t) { var n = t.map((function () { return [] })); return Te(t, (function (t) { var e, r, i, u, o, a; 1 === t.a && t.b >= 0 ? (e = t.ep.r, r = t.ep.l) : (e = t.ep.l, r = t.ep.r), 1 === t.a ? (o = e ? e.y : -1e6, i = t.c - t.b * o, a = r ? r.y : 1e6, u = t.c - t.b * a) : (i = e ? e.x : -1e6, o = t.c - t.a * i, u = r ? r.x : 1e6, a = t.c - t.a * u); var c = [i, o], l = [u, a]; n[t.region.l.index].push(c, l), n[t.region.r.index].push(c, l) })), n.map((function (n, e) { var r = t[e][0], i = t[e][1]; return n.forEach((function (t) { t.angle = Math.atan2(t[0] - r, t[1] - i) })), n.sort((function (t, n) { return t.angle - n.angle })).filter((function (t, e) { return !e || t.angle - n[e - 1].angle > 1e-10 })) })) }; var xi = { l: "r", r: "l" }; d3.geom.delaunay = function (t) { var n = t.map((function () { return [] })), e = []; return Te(t, (function (e) { n[e.region.l.index].push(t[e.region.r.index]) })), n.forEach((function (n, r) { var i = t[r], u = i[0], o = i[1]; n.forEach((function (t) { t.angle = Math.atan2(t[0] - u, t[1] - o) })), n.sort((function (t, n) { return t.angle - n.angle })); for (var a = 0, c = n.length - 1; a < c; a++)e.push([i, n[a], n[a + 1]]) })), e }, d3.geom.quadtree = function (t, n, e, r, i) { function u(t, n, e, r, i, u) { if (!isNaN(n.x) && !isNaN(n.y)) if (t.leaf) { var a = t.point; a ? (Math.abs(a.x - n.x) + Math.abs(a.y - n.y) < .01 || (t.point = null, o(t, a, e, r, i, u)), o(t, n, e, r, i, u)) : t.point = n } else o(t, n, e, r, i, u) } function o(t, n, e, r, i, o) { var a = .5 * (e + i), c = .5 * (r + o), l = n.x >= a, f = n.y >= c, s = (f << 1) + l; t.leaf = !1, l ? e = a : i = a, f ? r = c : o = c, u(t = t.nodes[s] || (t.nodes[s] = { leaf: !0, nodes: [], point: null }), n, e, r, i, o) } var a, c = -1, l = t.length; if (l && isNaN(t[0].x) && (t = t.map(ze)), arguments.length < 5) if (3 === arguments.length) i = r = e, e = n; else { for (n = e = 1 / 0, r = i = -1 / 0; ++c < l;)(a = t[c]).x < n && (n = a.x), a.y < e && (e = a.y), a.x > r && (r = a.x), a.y > i && (i = a.y); var f = r - n, s = i - e; f > s ? i = e + f : r = n + s } var h = { leaf: !0, nodes: [], point: null, add: function (t) { u(h, t, n, e, r, i) }, visit: function (t) { qe(t, h, n, e, r, i) } }; return t.forEach(h.add), h }, d3.time = {}; var bi = Date, Mi = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]; Ee.prototype = { getDate: function () { return this._.getUTCDate() }, getDay: function () { return this._.getUTCDay() }, getFullYear: function () { return this._.getUTCFullYear() }, getHours: function () { return this._.getUTCHours() }, getMilliseconds: function () { return this._.getUTCMilliseconds() }, getMinutes: function () { return this._.getUTCMinutes() }, getMonth: function () { return this._.getUTCMonth() }, getSeconds: function () { return this._.getUTCSeconds() }, getTime: function () { return this._.getTime() }, getTimezoneOffset: function () { return 0 }, valueOf: function () { return this._.valueOf() }, setDate: function () { _i.setUTCDate.apply(this._, arguments) }, setDay: function () { _i.setUTCDay.apply(this._, arguments) }, setFullYear: function () { _i.setUTCFullYear.apply(this._, arguments) }, setHours: function () { _i.setUTCHours.apply(this._, arguments) }, setMilliseconds: function () { _i.setUTCMilliseconds.apply(this._, arguments) }, setMinutes: function () { _i.setUTCMinutes.apply(this._, arguments) }, setMonth: function () { _i.setUTCMonth.apply(this._, arguments) }, setSeconds: function () { _i.setUTCSeconds.apply(this._, arguments) }, setTime: function () { _i.setTime.apply(this._, arguments) } }; var _i = Date.prototype, wi = Mi, ki = wi.map(De), Ni = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], Ai = Ni.map(De); d3.time.format = function (t) { function n(n) { for (var r, i, u = [], o = -1, a = 0; ++o < e;)37 == t.charCodeAt(o) && (u.push(t.substring(a, o), (i = Ii[r = t.charAt(++o)]) ? i(n) : r), a = o + 1); return u.push(t.substring(a, o)), u.join("") } var e = t.length; return n.parse = function (n) { var e = { y: 1900, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0 }; if (Pe(e, t, n, 0) != n.length) return null; "p" in e && (e.H = e.H % 12 + 12 * e.p); var r = new bi; return r.setFullYear(e.y, e.m, e.d), r.setHours(e.H, e.M, e.S, e.L), r }, n.toString = function () { return t }, n }; var Si = d3.format("02d"), Ci = d3.format("03d"), Ti = d3.format("04d"), qi = d3.format("2d"), zi = Le(wi), Ei = Le(ki), Di = Le(Ni), Pi = Fe(Ni), Li = Le(Ai), Fi = Fe(Ai), Ii = { a: function (t) { return ki[t.getDay()] }, A: function (t) { return wi[t.getDay()] }, b: function (t) { return Ai[t.getMonth()] }, B: function (t) { return Ni[t.getMonth()] }, c: d3.time.format("%a %b %e %H:%M:%S %Y"), d: function (t) { return Si(t.getDate()) }, e: function (t) { return qi(t.getDate()) }, H: function (t) { return Si(t.getHours()) }, I: function (t) { return Si(t.getHours() % 12 || 12) }, j: function (t) { return Ci(1 + d3.time.dayOfYear(t)) }, L: function (t) { return Ci(t.getMilliseconds()) }, m: function (t) { return Si(t.getMonth() + 1) }, M: function (t) { return Si(t.getMinutes()) }, p: function (t) { return t.getHours() >= 12 ? "PM" : "AM" }, S: function (t) { return Si(t.getSeconds()) }, U: function (t) { return Si(d3.time.sundayOfYear(t)) }, w: function (t) { return t.getDay() }, W: function (t) { return Si(d3.time.mondayOfYear(t)) }, x: d3.time.format("%m/%d/%y"), X: d3.time.format("%H:%M:%S"), y: function (t) { return Si(t.getFullYear() % 100) }, Y: function (t) { return Ti(t.getFullYear() % 1e4) }, Z: function (t) { var n = t.getTimezoneOffset(), e = n > 0 ? "-" : "+", r = ~~(Math.abs(n) / 60), i = Math.abs(n) % 60; return e + Si(r) + Si(i) }, "%": function (t) { return "%" } }, Hi = { a: function (t, n, e) { Ei.lastIndex = 0; var r = Ei.exec(n.substring(e)); return r ? e += r[0].length : -1 }, A: function (t, n, e) { zi.lastIndex = 0; var r = zi.exec(n.substring(e)); return r ? e += r[0].length : -1 }, b: function (t, n, e) { Li.lastIndex = 0; var r = Li.exec(n.substring(e)); return r ? (t.m = Fi.get(r[0].toLowerCase()), e += r[0].length) : -1 }, B: function (t, n, e) { Di.lastIndex = 0; var r = Di.exec(n.substring(e)); return r ? (t.m = Pi.get(r[0].toLowerCase()), e += r[0].length) : -1 }, c: function (t, n, e) { return Pe(t, Ii.c.toString(), n, e) }, d: Ie, e: Ie, H: He, I: He, L: function (t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 3)); return r ? (t.L = +r[0], e += r[0].length) : -1 }, m: function (t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 2)); return r ? (t.m = r[0] - 1, e += r[0].length) : -1 }, M: function (t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 2)); return r ? (t.M = +r[0], e += r[0].length) : -1 }, p: function (t, n, e) { var r = Ri.get(n.substring(e, e += 2).toLowerCase()); return null == r ? -1 : (t.p = r, e) }, S: function (t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 2)); return r ? (t.S = +r[0], e += r[0].length) : -1 }, x: function (t, n, e) { return Pe(t, Ii.x.toString(), n, e) }, X: function (t, n, e) { return Pe(t, Ii.X.toString(), n, e) }, y: function (t, n, e) { Oi.lastIndex = 0; var r, i = Oi.exec(n.substring(e, e + 2)); return i ? (t.y = (r = +i[0]) + (r > 68 ? 1900 : 2e3), e += i[0].length) : -1 }, Y: function (t, n, e) { Oi.lastIndex = 0; var r = Oi.exec(n.substring(e, e + 4)); return r ? (t.y = +r[0], e += r[0].length) : -1 } }, Oi = /^\s*\d+/, Ri = d3.map({ am: 0, pm: 1 }); d3.time.format.utc = function (t) { function n(t) { try { var n = new (bi = Ee); return n._ = t, e(n) } finally { bi = Date } } var e = d3.time.format(t); return n.parse = function (t) { try { bi = Ee; var n = e.parse(t); return n && n._ } finally { bi = Date } }, n.toString = e.toString, n }; var ji = d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ"); d3.time.format.iso = Date.prototype.toISOString ? Oe : ji, Oe.parse = function (t) { var n = new Date(t); return isNaN(n) ? null : n }, Oe.toString = ji.toString, d3.time.second = Re((function (t) { return new bi(1e3 * Math.floor(t / 1e3)) }), (function (t, n) { t.setTime(t.getTime() + 1e3 * Math.floor(n)) }), (function (t) { return t.getSeconds() })), d3.time.seconds = d3.time.second.range, d3.time.seconds.utc = d3.time.second.utc.range, d3.time.minute = Re((function (t) { return new bi(6e4 * Math.floor(t / 6e4)) }), (function (t, n) { t.setTime(t.getTime() + 6e4 * Math.floor(n)) }), (function (t) { return t.getMinutes() })), d3.time.minutes = d3.time.minute.range, d3.time.minutes.utc = d3.time.minute.utc.range, d3.time.hour = Re((function (t) { var n = t.getTimezoneOffset() / 60; return new bi(36e5 * (Math.floor(t / 36e5 - n) + n)) }), (function (t, n) { t.setTime(t.getTime() + 36e5 * Math.floor(n)) }), (function (t) { return t.getHours() })), d3.time.hours = d3.time.hour.range, d3.time.hours.utc = d3.time.hour.utc.range, d3.time.day = Re((function (t) { var n = new bi(1970, 0); return n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()), n }), (function (t, n) { t.setDate(t.getDate() + n) }), (function (t) { return t.getDate() - 1 })), d3.time.days = d3.time.day.range, d3.time.days.utc = d3.time.day.utc.range, d3.time.dayOfYear = function (t) { var n = d3.time.year(t); return Math.floor((t - n - 6e4 * (t.getTimezoneOffset() - n.getTimezoneOffset())) / 864e5) }, Mi.forEach((function (t, n) { t = t.toLowerCase(), n = 7 - n; var e = d3.time[t] = Re((function (t) { return (t = d3.time.day(t)).setDate(t.getDate() - (t.getDay() + n) % 7), t }), (function (t, n) { t.setDate(t.getDate() + 7 * Math.floor(n)) }), (function (t) { var e = d3.time.year(t).getDay(); return Math.floor((d3.time.dayOfYear(t) + (e + n) % 7) / 7) - (e !== n) })); d3.time[t + "s"] = e.range, d3.time[t + "s"].utc = e.utc.range, d3.time[t + "OfYear"] = function (t) { var e = d3.time.year(t).getDay(); return Math.floor((d3.time.dayOfYear(t) + (e + n) % 7) / 7) } })), d3.time.week = d3.time.sunday, d3.time.weeks = d3.time.sunday.range, d3.time.weeks.utc = d3.time.sunday.utc.range, d3.time.weekOfYear = d3.time.sundayOfYear, d3.time.month = Re((function (t) { return (t = d3.time.day(t)).setDate(1), t }), (function (t, n) { t.setMonth(t.getMonth() + n) }), (function (t) { return t.getMonth() })), d3.time.months = d3.time.month.range, d3.time.months.utc = d3.time.month.utc.range, d3.time.year = Re((function (t) { return (t = d3.time.day(t)).setMonth(0, 1), t }), (function (t, n) { t.setFullYear(t.getFullYear() + n) }), (function (t) { return t.getFullYear() })), d3.time.years = d3.time.year.range, d3.time.years.utc = d3.time.year.utc.range; var Yi = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6], Ui = [[d3.time.second, 1], [d3.time.second, 5], [d3.time.second, 15], [d3.time.second, 30], [d3.time.minute, 1], [d3.time.minute, 5], [d3.time.minute, 15], [d3.time.minute, 30], [d3.time.hour, 1], [d3.time.hour, 3], [d3.time.hour, 6], [d3.time.hour, 12], [d3.time.day, 1], [d3.time.day, 2], [d3.time.week, 1], [d3.time.month, 1], [d3.time.month, 3], [d3.time.year, 1]], Vi = [[d3.time.format("%Y"), function (t) { return !0 }], [d3.time.format("%B"), function (t) { return t.getMonth() }], [d3.time.format("%b %d"), function (t) { return 1 != t.getDate() }], [d3.time.format("%a %d"), function (t) { return t.getDay() && 1 != t.getDate() }], [d3.time.format("%I %p"), function (t) { return t.getHours() }], [d3.time.format("%I:%M"), function (t) { return t.getMinutes() }], [d3.time.format(":%S"), function (t) { return t.getSeconds() }], [d3.time.format(".%L"), function (t) { return t.getMilliseconds() }]], Zi = d3.scale.linear(), Bi = Ve(Vi); Ui.year = function (t, n) { return Zi.domain(t.map(Be)).ticks(n).map(Ze) }, d3.time.scale = function () { return Ye(d3.scale.linear(), Ui, Bi) }; var Xi = Ui.map((function (t) { return [t[0].utc, t[1]] })), $i = Ve([[d3.time.format.utc("%Y"), function (t) { return !0 }], [d3.time.format.utc("%B"), function (t) { return t.getUTCMonth() }], [d3.time.format.utc("%b %d"), function (t) { return 1 != t.getUTCDate() }], [d3.time.format.utc("%a %d"), function (t) { return t.getUTCDay() && 1 != t.getUTCDate() }], [d3.time.format.utc("%I %p"), function (t) { return t.getUTCHours() }], [d3.time.format.utc("%I:%M"), function (t) { return t.getUTCMinutes() }], [d3.time.format.utc(":%S"), function (t) { return t.getUTCSeconds() }], [d3.time.format.utc(".%L"), function (t) { return t.getUTCMilliseconds() }]]); Xi.year = function (t, n) { return Zi.domain(t.map($e)).ticks(n).map(Xe) }, d3.time.scale.utc = function () { return Ye(d3.scale.linear(), Xi, $i) } }();